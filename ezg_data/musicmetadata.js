!function(K){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=K();else if("function"==typeof define&&define.amd)define([],K);else{var d;"undefined"!=typeof window?d=window:"undefined"!=typeof global?d=global:"undefined"!=typeof self&&(d=self);d.musicmetadata=K()}}(function(){return function d(k,g,a){function l(b,c){if(!g[b]){if(!k[b]){var f="function"==typeof require&&require;if(!c&&f)return f(b,!0);if(q)return q(b,!0);f=Error("Cannot find module '"+b+"'");throw f.code="MODULE_NOT_FOUND",
f;}f=g[b]={exports:{}};k[b][0].call(f.exports,function(a){var u=k[b][1][a];return l(u?u:a)},f,f.exports,d,k,g,a)}return g[b].exports}for(var q="function"==typeof require&&require,m=0;m<a.length;m++)l(a[m]);return l}({1:[function(d,k,g){(function(a){function l(h,p){this.size=h;this.objectCount=p}function q(h,p){this.nextState=h;this.size=p}function m(h,p){this.nextState=h;this.size=p}function b(h,p){this.nextState=h;this.size=p}function c(h,p){this.nextState=h;this.size=p}function f(h){return v.stripNulls(A(h,
"utf16le"))}function t(h){var p=new a(h.length);h.copy(p);return p}function u(h){return h.readUInt32LE(0)}function w(h){return e(h,0)}function e(h,p){var y=h.slice(p,p+4).readUInt32LE(0);return h.slice(p+4,p+8).readUInt32LE(0)*Math.pow(2,32)+(y>>>0)}var n=d("strtok2"),v=d("./common"),g=d("deep-equal"),A=v.decodeString;k.exports=function(h,p,y){var a=x;n.parse(h,function(h,e){a=a.parse(p,h,y);return a.getExpectedType()})};var x={parse:function(h){return r}},z={parse:function(h){return this},getExpectedType:function(){return n.DONE}},
r={parse:function(h,p,y){return g(v.asfGuidBuf,p)?C:(y(Error("expected asf header but was not found")),z)},getExpectedType:function(){return new n.BufferType(v.asfGuidBuf.length)}};l.prototype.parse=function(h,p,a){h=p.slice(0,16);p=e(p,16);a:{for(a=0;a<y.length;a+=1){var b=y[a];if(g(b.guid,h)){h=b;break a}}h=null}h=h||q;--this.objectCount;this.size-=p;return new h(0>=this.objectCount?z:this,p-24)};l.prototype.getExpectedType=function(){return new n.BufferType(24)};var C={parse:function(h,p,y){h=
e(p,0);p=p.readUInt32LE(8);return new l(h,p)},getExpectedType:function(){return new n.BufferType(14)}};q.prototype.parse=function(h,p,y){this.nextState===z&&y();return this.nextState};q.prototype.getExpectedType=function(){return new n.IgnoreType(this.size)};var p=["Title","Author","Copyright","Description","Rating"];m.prototype.parse=function(h,y,a){for(var e=[y.readUInt16LE(0),y.readUInt16LE(2),y.readUInt16LE(4),y.readUInt16LE(6),y.readUInt16LE(8)],b=10,u=0;u<p.length;u+=1){var c=p[u],n=e[u],w=
b+n;0<n&&(b=f(y.slice(b,w)),h(c,b));b=w}this.nextState===z&&a();return this.nextState};m.prototype.getExpectedType=function(){return new n.BufferType(this.size)};m.guid=new a([51,38,178,117,142,102,207,17,166,217,0,170,0,98,206,108]);var h=[f,t,function(h){return 1===u(h)},u,w,function(h){return h.readUInt16LE(0)},t];b.prototype.parse=function(p,y,a){for(var e=y.readUInt16LE(0),b=2,u=0;u<e;u+=1){var c=y.readUInt16LE(b),b=b+2,n=f(y.slice(b,b+c)),b=b+c,c=y.readUInt16LE(b),b=b+2,w=y.readUInt16LE(b),
b=b+2,m=y.slice(b,b+w),b=b+w,w=h[c];if(!w)return a(Error("unexpected value type: "+c)),z;c=w(m);p(n,c)}this.nextState===z&&a();return this.nextState};b.prototype.getExpectedType=function(){return new n.BufferType(this.size)};b.guid=new a([64,164,208,210,7,227,210,17,151,240,0,160,201,94,168,80]);c.prototype.parse=function(h,p,y){p=w(p.slice(40,48))/1E4;h("duration",p/1E3);this.nextState===z&&y();return this.nextState};c.prototype.getExpectedType=function(){return new n.BufferType(this.size)};c.guid=
new a([161,220,171,140,71,169,207,17,142,228,0,192,12,32,83,101]);var y=[c,m,b]}).call(this,d("buffer").Buffer)},{"./common":3,buffer:16,"deep-equal":19,strtok2:44}],2:[function(d,k,g){(function(a,l){function q(u){var f=c(function(a){0<a.length&&this.queue(a)},null,{autoDestroy:!1});if(u instanceof window.ArrayBuffer)return m(u,f);f.fileSize=function(b){a.nextTick(function(){b(u.size)})};if(u instanceof t)return u.pipe(f);if(u instanceof window.FileList)throw Error("You have passed a FileList object but we expected a File");
if(!(u instanceof window.File||u instanceof window.Blob))throw Error("You must provide a valid File or Blob object");return b(u).pipe(f)}function m(b,c){c.fileSize=function(e){a.nextTick(function(){e(b.byteLength)})};a.nextTick(function(){c.write(new l(new Uint8Array(b)));c.end()});return c}var b=d("filereader-stream"),c=d("through"),f=d("./index"),t=d("stream").Stream;k.exports=function(a,b,e){return f(q(a),b,e)}}).call(this,d("_process"),d("buffer").Buffer)},{"./index":9,_process:29,buffer:16,"filereader-stream":23,
stream:41,through:46}],3:[function(d,k,g){(function(a){var l=d("strtok2"),q=d("deep-equal"),m=d("./windows1252decoder"),b=new a([48,38,178,117,142,102,207,17,166,217,0,170,0,98,206,108]);g.asfGuidBuf=b;g.getParserForMediaType=function(a,b){for(var e=0;e<a.length;e+=1){var c=a[e],f=c.offset||0;if(b.length>=f+c.buf.length&&q(b.slice(f,f+c.buf.length),c.buf))return c.tag}return d("./id3v1")};g.streamOnRealEnd=function(a,b){function e(){a.removeListener("end",e);a.removeListener("close",e);b()}a.on("end",
e);a.on("close",e)};g.readVorbisPicture=function(b){var c={},e=0;c.type=f[l.UINT32_BE.get(b,0)];var n=l.UINT32_BE.get(b,e+=4);c.format=b.toString("utf-8",e+=4,e+n);n=l.UINT32_BE.get(b,e+=n);c.description=b.toString("utf-8",e+=4,e+n);c.width=l.UINT32_BE.get(b,e+=n);c.height=l.UINT32_BE.get(b,e+=4);c.colour_depth=l.UINT32_BE.get(b,e+=4);c.indexed_color=l.UINT32_BE.get(b,e+=4);n=l.UINT32_BE.get(b,e+=4);c.data=new a(b.slice(e+=4,e+n));return c};g.removeUnsyncBytes=function(a){for(var b=0,e=0;b<a.length-
1;)b!==e&&(a[e]=a[b]),b+=255===a[b]&&0===a[b+1]?2:1,e++;b<a.length&&(a[e++]=a[b++]);return a.slice(0,e)};g.findZero=function(a,b,e,c){if("utf16"===c)for(;0!==a[b]||0!==a[b+1];){if(b>=e)return e;b+=2}else for(;0!==a[b];){if(b>=e)return e;b++}return b};var c=g.readUTF16String=function(a){var b=0;if(254===a[0]&&255===a[1]){b=a.length;if(b&1)throw Error("Buffer length must be even");for(var e=0;e<b;e+=2){var c=a[e];a[e]=a[e+1];a[e+1]=c}b=2}else 255===a[0]&&254===a[1]&&(b=2);return a.toString("ucs2",b)};
g.decodeString=function(a,b){255===a[0]&&254===a[1]&&254===a[2]&&255===a[3]&&(a=a.slice(2));if("utf16le"===b||"utf16"===b)return c(a);if("utf8"===b)return a.toString("utf8");if("iso-8859-1"===b)return m(a);throw Error(b+" encoding is not supported!");};g.parseGenre=function(a){a=a.trim().split(/\((.*?)\)/g).filter(function(a){return""!==a});for(var b=[],e=0;e<a.length;e++){var c=a[e];/^\d+$/.test(c)&&!isNaN(parseInt(c,10))&&(c=t[c]);b.push(c)}return b.filter(function(a){return void 0!==a}).join("/")};
g.stripNulls=function(a){a=a.replace(/^\x00+/g,"");return a=a.replace(/\x00+$/g,"")};g.strtokUINT24_BE={len:3,get:function(a,b){return((a[b]<<8)+a[b+1]<<8)+a[b+2]}};g.strtokBITSET={len:1,get:function(a,b,c){return 0!==(a[b]&1<<c)}};g.strtokINT32SYNCSAFE={len:4,get:function(a,b){return a[b+3]&127|a[b+2]<<7|a[b+1]<<14|a[b]<<21}};var f=g.PICTURE_TYPE="Other;32x32 pixels 'file icon' (PNG only);Other file icon;Cover (front);Cover (back);Leaflet page;Media (e.g. lable side of CD);Lead artist/lead performer/soloist;Artist/performer;Conductor;Band/Orchestra;Composer;Lyricist/text writer;Recording Location;During recording;During performance;Movie/video screen capture;A bright coloured fish;Illustration;Band/artist logotype;Publisher/Studio logotype".split(";"),
t=g.GENRES="Blues;Classic Rock;Country;Dance;Disco;Funk;Grunge;Hip-Hop;Jazz;Metal;New Age;Oldies;Other;Pop;R&B;Rap;Reggae;Rock;Techno;Industrial;Alternative;Ska;Death Metal;Pranks;Soundtrack;Euro-Techno;Ambient;Trip-Hop;Vocal;Jazz+Funk;Fusion;Trance;Classical;Instrumental;Acid;House;Game;Sound Clip;Gospel;Noise;Alt. Rock;Bass;Soul;Punk;Space;Meditative;Instrumental Pop;Instrumental Rock;Ethnic;Gothic;Darkwave;Techno-Industrial;Electronic;Pop-Folk;Eurodance;Dream;Southern Rock;Comedy;Cult;Gangsta Rap;Top 40;Christian Rap;Pop/Funk;Jungle;Native American;Cabaret;New Wave;Psychedelic;Rave;Showtunes;Trailer;Lo-Fi;Tribal;Acid Punk;Acid Jazz;Polka;Retro;Musical;Rock & Roll;Hard Rock;Folk;Folk/Rock;National Folk;Swing;Fast-Fusion;Bebob;Latin;Revival;Celtic;Bluegrass;Avantgarde;Gothic Rock;Progressive Rock;Psychedelic Rock;Symphonic Rock;Slow Rock;Big Band;Chorus;Easy Listening;Acoustic;Humour;Speech;Chanson;Opera;Chamber Music;Sonata;Symphony;Booty Bass;Primus;Porn Groove;Satire;Slow Jam;Club;Tango;Samba;Folklore;Ballad;Power Ballad;Rhythmic Soul;Freestyle;Duet;Punk Rock;Drum Solo;A Cappella;Euro-House;Dance Hall;Goa;Drum & Bass;Club-House;Hardcore;Terror;Indie;BritPop;Negerpunk;Polsk Punk;Beat;Christian Gangsta Rap;Heavy Metal;Black Metal;Crossover;Contemporary Christian;Christian Rock;Merengue;Salsa;Thrash Metal;Anime;JPop;Synthpop;Abstract;Art Rock;Baroque;Bhangra;Big Beat;Breakbeat;Chillout;Downtempo;Dub;EBM;Eclectic;Electro;Electroclash;Emo;Experimental;Garage;Global;IDM;Illbient;Industro-Goth;Jam Band;Krautrock;Leftfield;Lounge;Math Rock;New Romantic;Nu-Breakz;Post-Punk;Post-Rock;Psytrance;Shoegaze;Space Rock;Trop Rock;World Music;Neoclassical;Audiobook;Audio Theatre;Neue Deutsche Welle;Podcast;Indie Rock;G-Funk;Dubstep;Garage Rock;Psybient".split(";")}).call(this,
d("buffer").Buffer)},{"./id3v1":5,"./windows1252decoder":12,buffer:16,"deep-equal":19,strtok2:44}],4:[function(d,k,g){var a=d("strtok2"),l=d("./common");k.exports=function(b,c,e){var f=t;a.parse(b,function(a,b){f=f.parse(c,a,e);return f.getExpectedType()})};var q=function(a){this.data=a;this.offset=0};q.prototype.readInt32=function(){var b=a.UINT32_LE.get(this.data,this.offset);this.offset+=4;return b};q.prototype.readStringUtf8=function(){var a=this.readInt32(),b=this.data.toString("utf8",this.offset,
this.offset+a);this.offset+=a;return b};var m={parse:function(a){return this},getExpectedType:function(){return a.DONE}},b=function(a,b,c){this.type=a;this.length=b;this.nextStateFactory=c};b.prototype.parse=function(a,b){if(4===this.type){var c=new q(b);c.readStringUtf8();var f=c.readInt32(),m,t;for(t=0;t<f;t++)m=c.readStringUtf8(),m=m.split("="),a(m[0].toUpperCase(),m[1])}else if(6===this.type)c=l.readVorbisPicture(b),a("METADATA_BLOCK_PICTURE",c);else if(0===this.type){if(34>b.length)return;c=
l.strtokUINT24_BE.get(b,10)>>4;c=b.readUInt32BE(14)/c;a("duration",c)}return this.nextStateFactory()};b.prototype.getExpectedType=function(){return new a.BufferType(this.length)};var c={parse:function(a,f,e){a=128===(f[0]&128);var n=f[0]&127;f=l.strtokUINT24_BE.get(f,1);return new b(n,f,a?function(){e();return m}:function(){return c})},getExpectedType:function(){return new a.BufferType(4)}},f={parse:function(a,b,e){"fLaC"!==b.toString()&&e(Error("expected flac header but was not found"));return c},
getExpectedType:function(){return new a.BufferType(4)}},t={parse:function(a){return f},getExpectedType:function(){return a.DONE}}},{"./common":3,strtok2:44}],5:[function(d,k,g){var a=d("./common");k.exports=function(l,q,m){var b=null;l.on("data",function(a){b=a});a.streamOnRealEnd(l,function(){var c=b.length-128;if("TAG"!==b.toString("ascii",c,c+=3))return m(Error("Could not find metadata header"));var f=b.toString("ascii",c,c+=30);q("title",f.trim().replace(/\x00/g,""));f=b.toString("ascii",c,c+=
30);q("artist",f.trim().replace(/\x00/g,""));f=b.toString("ascii",c,c+=30);q("album",f.trim().replace(/\x00/g,""));f=b.toString("ascii",c,c+=4);q("year",f.trim().replace(/\x00/g,""));c=b.toString("ascii",c,c+28);q("comment",c.trim().replace(/\x00/g,""));q("track",b[b.length-2]);b[b.length-1]in a.GENRES&&q("genre",a.GENRES[b[b.length-1]]);return m()})}},{"./common":3}],6:[function(d,k,g){(function(a){function l(a){var p=a[0];return a.every(function(h){return h===p})}function q(a,p,h){var y=0,c=[];
for(p.xheader&&(y+=a.readUInt32BE(0));y!==a.length;){var e;e=a.slice(y,y+=m(p.major,h));var f={};switch(p.major){case 2:f.id=e.toString("ascii",0,3);f.length=x.strtokUINT24_BE.get(e,3,6);break;case 3:f.id=e.toString("ascii",0,4);f.length=g.UINT32_BE.get(e,4,8);f.flags=b(e.slice(8,10));break;case 4:f.id=e.toString("ascii",0,4),f.length=x.strtokINT32SYNCSAFE.get(e,4,8),f.flags=b(e.slice(8,10))}e=f;if(""===e.id||"\x00\x00\x00\x00"===e.id||-1==="ABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(e.id[0]))break;a:{var f=
a.slice(y,y+=e.length),l=e,n=p.major;switch(n){case 2:f=A.readData(f,l.id,null,n);break a;case 3:case 4:l.flags.format.unsync&&(f=x.removeUnsyncBytes(f));l.flags.format.data_length_indicator&&(f=f.slice(4,f.length));f=A.readData(f,l.id,l.flags,n);break a}f=void 0}for(var t in f)f.hasOwnProperty(t)&&c.push([e.id,f[t]])}return c}function m(a,p){switch(a){case 2:return 6;case 3:case 4:return 10;default:return p(Error("header version is incorrect"))}}function b(a){return{status:{tag_alter_preservation:x.strtokBITSET.get(a,
0,6),file_alter_preservation:x.strtokBITSET.get(a,0,5),read_only:x.strtokBITSET.get(a,0,4)},format:{grouping_identity:x.strtokBITSET.get(a,1,7),compression:x.strtokBITSET.get(a,1,3),encryption:x.strtokBITSET.get(a,1,2),unsync:x.strtokBITSET.get(a,1,1),data_length_indicator:x.strtokBITSET.get(a,1,0)}}}function c(a){a=(a&24)>>3;if(0===a)return 2.5;if(1===a)return"reserved";if(2===a)return 2;if(3===a)return 1}function f(a){a=(a&6)>>1;if(0===a)return"reserved";if(1===a)return 3;if(2===a)return 2;if(3===
a)return 1}function t(a){a=(a&192)>>6;if(0===a)return"stereo";if(1===a)return"joint_stereo";if(2===a)return"dual_channel";if(3===a)return"mono"}function u(a,p){if(1===p)return 384;if(2===p||3===p&&1===a)return 1152;if(3===p&&(2===a||2.5===a))return 576}function w(a,p,h){if(3!==a)return 2;if(0<=["stereo","joint_stereo","dual_channel"].indexOf(p)){if(1===h)return 32;if(2===h||2.5===h)return 17}else if("mono"===p){if(1===h)return 17;if(2===h||2.5===h)return 9}}function e(a){if(0===a)return"reserved";
if(1===a)return 4;if(2===a||3===a)return 1}function n(a,p,h){a=(a&240)>>4;return 0===a?"free":15===a?"reserved":z[a][p.toString()+h]}function v(a,p){var h=(a&12)>>2;return 3===h?"reserved":r[p][h]}var g=d("strtok2"),A=d("./id3v2_frames"),x=d("./common");k.exports=function(b,p,h,y,m){var d=0,A,z=[];g.parse(b,function(r,k){function J(h){if(d)return h(Error("expected frame header but was not found"));k.frameFragment=r;k.state=1.5;return new g.BufferType(1)}if(void 0===r)return k.state=0,new g.BufferType(10);
switch(k.state){case 0:if("ID3"!==r.toString("ascii",0,3))return h(Error("expected id3 header but was not found"));k.id3Header={version:"2."+r[3]+"."+r[4],major:r[3],unsync:x.strtokBITSET.get(r,5,7),xheader:x.strtokBITSET.get(r,5,6),xindicator:x.strtokBITSET.get(r,5,5),footer:x.strtokBITSET.get(r,5,4),size:x.strtokINT32SYNCSAFE.get(r,6)};k.state=1;return new g.BufferType(k.id3Header.size);case 1:return q(r,k.id3Header,h).map(function(h){p.apply(this,h)}),y?(k.state=2,new g.BufferType(4)):h();case 1.5:var F=
new a(4);k.frameFragment.copy(F,0,1);r.copy(F,3);r=F;k.state=2;case 2:if("TAG"===r.slice(0,3).toString())return g.DONE;if(!0!==(255===r[0]&&224===(r[1]&224)))return J(h);var B={version:c(r[1]),layer:f(r[1]),protection:!(r[1]&1),padding:!!((r[2]&2)>>1),mode:t(r[3])};if(isNaN(B.version)||isNaN(B.layer)||1!==B.version&&2!==B.version||3!==B.layer)return J(h);B.samples_per_frame=u(B.version,B.layer);B.bitrate=n(r[2],B.version,B.layer);if(isNaN(B.bitrate))return J(h);B.sample_rate=v(r[2],B.version);if(isNaN(B.sample_rate))return J(h);
B.slot_size=e(B.layer);B.sideinfo_length=w(B.layer,B.mode,B.version);B.frame_size=Math.floor(B.samples_per_frame/8*1E3*B.bitrate/B.sample_rate+(B.padding?B.slot_size:0));A=B;d++;z.push(B.bitrate);if(1===d)return k.offset=B.sideinfo_length,k.state=3,new g.BufferType(B.sideinfo_length);if(y&&m&&3===d&&l(z))return m(function(a){a-=k.id3Header.size;p("duration",a/(1E3*B.bitrate/8));k(h())}),g.DEFER;if(y&&4===d)b.once("end",function(){p("duration",Math.round(B.samples_per_frame/B.sample_rate*d));h()});
k.state=5;return new g.IgnoreType(B.frame_size-4);case 3:return k.offset+=12,k.state=4,new g.BufferType(12);case 4:k.state=5;var F=A.frame_size-4-k.offset,H=r.toString("ascii",0,4);if("Xtra"!==H&&"Info"!==H&&"Xing"!==H||1!==(r[7]&1))return new g.IgnoreType(F);F=r.readUInt32BE(8);H=A;p("duration",Math.round(H.samples_per_frame/H.sample_rate*F));return h();case 5:return k.state=2,new g.BufferType(4)}})};var z={1:{11:32,12:32,13:32,21:32,22:8,23:8},2:{11:64,12:48,13:40,21:48,22:16,23:16},3:{11:96,12:56,
13:48,21:56,22:24,23:24},4:{11:128,12:64,13:56,21:64,22:32,23:32},5:{11:160,12:80,13:64,21:80,22:40,23:40},6:{11:192,12:96,13:80,21:96,22:48,23:48},7:{11:224,12:112,13:96,21:112,22:56,23:56},8:{11:256,12:128,13:112,21:128,22:64,23:64},9:{11:288,12:160,13:128,21:144,22:80,23:80},10:{11:320,12:192,13:160,21:160,22:96,23:96},11:{11:352,12:224,13:192,21:176,22:112,23:112},12:{11:384,12:256,13:224,21:192,22:128,23:128},13:{11:416,12:320,13:256,21:224,22:144,23:144},14:{11:448,12:384,13:320,21:256,22:160,
23:160}},r={1:{0:44100,1:48E3,2:32E3},2:{0:22050,1:24E3,2:16E3},"2.5":{0:11025,1:12E3,2:8E3}}}).call(this,d("buffer").Buffer)},{"./common":3,"./id3v2_frames":7,buffer:16,strtok2:44}],7:[function(d,k,g){function a(a){switch(a){case 0:return"iso-8859-1";case 1:case 2:return"utf16";case 3:return"utf8";default:return"utf8"}}var l=d("buffer").Buffer,q=d("strtok2"),m=d("./common"),b=m.findZero,c=m.decodeString;g.readData=function(f,t,d,g){d=a(f[0]);var e=f.length,n=0,v=[],k;a:switch(d){case "utf16":k=2;
break a;default:k=1}"T"===t[0]&&(t="T*");switch(t){case "T*":v=c(f.slice(1),d).replace(/\x00+$/,"").split(/\x00/g);break;case "PIC":case "APIC":t={};n+=1;switch(g){case 2:t.format=c(f.slice(n,n+3),d);n+=3;break;case 3:case 4:g=b(f,n,e,"iso-8859-1"),t.format=c(f.slice(n,g),"iso-8859-1"),n=g+1}t.type=m.PICTURE_TYPE[f[n]];n+=1;g=b(f,n,e,d);t.description=c(f.slice(n,g),d);t.data=new l(f.slice(g+k,e));v=[t];break;case "CNT":case "PCNT":v=[q.UINT32_BE.get(f,0)];break;case "ULT":case "USLT":case "COM":case "COMM":t=
{};n+=1;t.language=c(f.slice(n,n+3),"iso-8859-1");n+=3;g=b(f,n,e,d);t.description=c(f.slice(n,g),d);t.text=c(f.slice(g+k,e),d).replace(/\x00+$/,"");v=[t];break;case "UFID":t={},g=b(f,n,e,d),t.owner_identifier=c(f.slice(n,g),d),t.identifier=f.slice(g+k,e),v=[t]}return v}},{"./common":3,buffer:16,strtok2:44}],8:[function(d,k,g){(function(a){var l=d("strtok2"),q=d("./common");k.exports=function(c,f,t,d){l.parse(c,function(c,e){if(!c)return e.metaAtomsTotalLength=0,e.state=0,l.UINT32_BE;switch(e.state){case -1:return e.state=
0,l.UINT32_BE;case 0:return e.atomLength=c,e.state++,new l.BufferType(4);case 1:c=c.toString("binary");e.atomName=c;if("meta"===c)return e.state=-1,new l.IgnoreType(4);if(d&&"mdhd"===c)return e.state=3,new l.BufferType(e.atomLength-8);if(!~b.indexOf(c)){if("ilst"===e.atomContainer)return e.state=2,new l.BufferType(e.atomLength-8);e.state=-1;return new l.IgnoreType(e.atomLength-8)}e.atomContainer=c;e.atomContainerLength=e.atomLength;e.state--;return l.UINT32_BE;case 2:e.metaAtomsTotalLength+=e.atomLength;
var n=c,v=e.atomName,g=e.atomLength-8,A=[],x=0;if("----"!==v)for(;x<g;){var z=l.UINT32_BE.get(n,x),r=m[l.UINT32_BE.get(n,x+8)],k;b:{k=n.slice(x+12,x+z);var p=v;switch(r){case "text":k=k.toString("utf8",4);break b;case "uint8":if("gnre"===p){k=l.UINT8.get(k,5);k=q.GENRES[k-1];break b}k="trkn"===p||"disk"===p?k[7]+"/"+k[9]:l.UINT8.get(k,4);break b;case "jpeg":case "png":k={format:"image/"+r,data:new a(k.slice(4))};break b}k=void 0}A.push(k);x+=z}if(0<A.length)for(n=0;n<A.length;n++)f(e.atomName,A[n]);
if(e.metaAtomsTotalLength>=e.atomContainerLength-8)return t();e.state=0;return l.UINT32_BE;case 3:return A=c.readUInt32BE(12),n=c.readUInt32BE(16),f("duration",n/A),e.state=0,l.UINT32_BE}return t(Error("error parsing"))})};var m={0:"uint8",1:"text",13:"jpeg",14:"png",21:"uint8"},b="moov udta meta ilst trak mdia".split(" ")}).call(this,d("buffer").Buffer)},{"./common":3,buffer:16,strtok2:44}],9:[function(d,k,g){(function(a,l){function q(a){return["title TIT2 TT2 \u00a9nam TITLE Title".split(" "),"artist TPE1 TP1 \u00a9ART ARTIST Author".split(" "),
"albumartist TPE2 TP2 aART ALBUMARTIST ENSEMBLE WM/AlbumArtist".split(" "),"album TALB TAL \u00a9alb ALBUM WM/AlbumTitle".split(" "),"year TDRC TYER TYE \u00a9day DATE Year WM/Year".split(" "),["comment","COMM","COM","\u00a9cmt","COMMENT"],"track TRCK TRK trkn TRACKNUMBER Track WM/TrackNumber".split(" "),"disk TPOS TPA disk DISCNUMBER Disk".split(" "),"genre TCON TCO \u00a9gen gnre GENRE WM/Genre".split(" "),"picture;APIC;PIC;covr;METADATA_BLOCK_PICTURE;Cover Art (Front);Cover Art (Back)".split(";"),
["composer","TCOM","TCM","\u00a9wrt","COMPOSER"],["duration"]].reduce(function(b,c){if(void 0!==b)return b;if(-1<c.map(function(a){return a.toUpperCase()}).indexOf(a.toUpperCase()))return c[0]},void 0)}var m=d("events"),b=d("./common"),c=d("strtok2"),f=d("through"),t=d("fs");k.exports=function(l,e,n){function d(){k(Error("Unexpected end of stream"))}function k(h){z.removeListener("close",d);for(var p in C)if(C.hasOwnProperty(p)){var a;a="title"===p||"album"===p||"year"===p||"duration"===p?C[p][0]:
C[p];A.emit(p,a);r.hasOwnProperty(p)&&(r[p]=a)}n&&n(h,r);return c.DONE}"function"===typeof e&&(n=e,e={});var A=new m.EventEmitter,x=function(h){e.fileSize?a.nextTick(function(){h(e.fileSize)}):l.hasOwnProperty("path")?t.stat(l.path,function(p,a){if(p)throw p;h(a.size)}):l.hasOwnProperty("fileSize")?l.fileSize(h):e.duration&&A.emit("done",Error("for non file streams, specify the size of the stream with a fileSize option"))},z=l.pipe(f(null,null,{autoDestroy:!1})),r={title:"",artist:[],albumartist:[],
album:"",year:"",track:{no:0,of:0},genre:[],disk:{no:0,of:0},picture:[],duration:0},C={},p=!1;z.once("data",function(h){p=!0;b.getParserForMediaType(g,h)(z,function(h,p){if(null!==p){var a=q(h);h!==a&&A.emit(h,p);var c=C,e;if("TRACKTOTAL"===h||"DISCTOTAL"===h){var f;"TRACKTOTAL"===h&&(f="track");"DISCTOTAL"===h&&(f="disk");e=parseInt(p,10);isNaN(e)&&(e=0);c.hasOwnProperty(f)?c[f].of=e:c[f]={no:0,of:e}}a&&(e=p,"genre"===a&&(e=b.parseGenre(p)),"picture"===a&&(p.format?(e=p.format.toLowerCase().split("/"),
e=1<e.length?e[1]:e[0],"jpeg"===e&&(e="jpg")):e="jpg",e={format:e,data:p.data}),"track"===a||"disk"===a?(e=p.toString().split("/"),e={no:parseInt(e[0],10)||0,of:parseInt(e[1],10)||0},c[a]?c[a].no=e.no:c[a]=e):(c.hasOwnProperty(a)||(c[a]=[]),e.constructor===Array?c[a]=e:c[a].push(e)))}},k,e.hasOwnProperty("duration"),x);z.emit("data",h)});z.on("end",function(){p||k(Error("Could not read any data from this stream"))});z.on("close",d);return A};var g=[{buf:b.asfGuidBuf,tag:d("./asf")},{buf:new l("ID3"),
tag:d("./id3v2")},{buf:new l("ftypM4A"),tag:d("./id4"),offset:4},{buf:new l("ftypmp42"),tag:d("./id4"),offset:4},{buf:new l("OggS"),tag:d("./ogg")},{buf:new l("fLaC"),tag:d("./flac")},{buf:new l("MAC"),tag:d("./monkeysaudio")}]}).call(this,d("_process"),d("buffer").Buffer)},{"./asf":1,"./common":3,"./flac":4,"./id3v2":6,"./id4":8,"./monkeysaudio":10,"./ogg":11,_process:29,buffer:16,events:22,fs:15,strtok2:44,through:46}],10:[function(d,k,g){(function(a){var l=d("./common"),q=d("strtok2");k.exports=
function(m,b,c){var f=[];m.on("data",function(a){f.push(a)});l.streamOnRealEnd(m,function(){var m=a.concat(f),d=m.length-32;"APETAGEX"!==m.toString("utf8",d,d+=8)&&c(Error("expected APE header but wasn't found"));q.UINT32_LE.get(m,d,d+4);for(var g=q.UINT32_LE.get(m,d+4,d+8),e=q.UINT32_LE.get(m,d+8,d+12),d=m.length-g,g=0;g<e;g++){var n=q.UINT32_LE.get(m,d,d+=4),v=(q.UINT32_LE.get(m,d,d+=4)&6)>>1,k=l.findZero(m,d,m.length),A=m.toString("ascii",d,k),d=k+1;if(0===v)m.toString("utf8",d,d+=n).split(/\x00/g).forEach(function(a){b(A,
a)});else if(1===v&&("Cover Art (Front)"===A||"Cover Art (Back)"===A)){var v=m.slice(d,d+n),x=0,k=l.findZero(v,x,v.length),z=v.toString("utf8",x,k),x=k+1,k={description:z,data:new a(v.slice(x))},d=d+n;b(A,k)}}return c()})}}).call(this,d("buffer").Buffer)},{"./common":3,buffer:16,strtok2:44}],11:[function(d,k,g){(function(a){var l=d("events"),q=d("strtok2"),m=d("./common"),b=d("sum-component");k.exports=function(c,f,d,g){var k=new l.EventEmitter,e=0,n=0,v,D=!1;c.on("end",function(){g&&(f("duration",
v.pcm_sample_pos/n),d())});q.parse(c,function(c,f){if(!c)return f.state=0,new q.BufferType(27);if(D)return d();switch(f.state){case 0:v={type:c.toString("ascii",0,4),version:c[4],packet_flag:c[5],pcm_sample_pos:(c.readUInt32LE(10)<<32)+c.readUInt32LE(6),stream_serial_num:q.UINT32_LE.get(c,14),page_number:q.UINT32_LE.get(c,18),check_sum:q.UINT32_LE.get(c,22),segments:c[26]};if("OggS"!==v.type)return d(Error("expected ogg header but was not found"));f.pageNumber=v.page_number;f.state++;return new q.BufferType(v.segments);
case 1:return e=b(c),f.state++,new q.BufferType(e);case 2:return k.emit("data",new a(c)),f.state=0,new q.BufferType(27)}});q.parse(k,function(b,c){if(!b)return c.commentsRead=0,c.state=0,new q.BufferType(7);switch(c.state){case 0:return"\u0001vorbis"===b.toString()?(c.state=6,new q.BufferType(23)):"\u0003vorbis"===b.toString()?(c.state++,q.UINT32_LE):d(Error("expected vorbis header but found something else"));case 1:return c.state++,new q.BufferType(b);case 2:return c.state++,new q.BufferType(4);
case 3:c.commentsLength=b.readUInt32LE(0);if(0===c.commentsLength)return q.DONE;c.state++;return q.UINT32_LE;case 4:return c.state++,new q.BufferType(b);case 5:c.commentsRead++;b=b.toString();var e=b.indexOf("="),l=b.slice(0,e).toUpperCase(),e=b.slice(e+1);"METADATA_BLOCK_PICTURE"===l&&(e=m.readVorbisPicture(new a(e,"base64")));f(l,e);if(c.commentsRead===c.commentsLength)return D=!g,q.DONE;c.state--;return q.UINT32_LE;case 6:return n={version:b.readUInt32LE(0),channel_mode:b.readUInt8(4),sample_rate:b.readUInt32LE(5),
bitrate_nominal:b.readUInt32LE(13)}.sample_rate,c.state=0,new q.BufferType(7)}})}}).call(this,d("buffer").Buffer)},{"./common":3,buffer:16,events:22,strtok2:44,"sum-component":45}],12:[function(d,k,g){var a=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,
197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255];k.exports=function(l){for(var d="",m=0;m<l.length;m++){var b;b=l[m];var c=a;if(!(0<=b&&127>=b)&&(b=c[b-128],null===b))throw Error("invaliding encoding");65535>=b?b=String.fromCharCode(b):(b-=65536,b=String.fromCharCode((b>>10)+55296,(b&1023)+56320));d+=b}return d}},
{}],13:[function(d,k,g){function a(a,b){return w.isUndefined(b)?""+b:w.isNumber(b)&&(isNaN(b)||!isFinite(b))||w.isFunction(b)||w.isRegExp(b)?b.toString():b}function l(a,b){return w.isString(a)?a.length<b?a:a.slice(0,b):a}function q(a,b,c,e,f){throw new v.AssertionError({message:c,actual:a,expected:b,operator:e,stackStartFunction:f});}function m(a,b){a||q(a,!0,b,"==",v.ok)}function b(a,b){if(a===b)return!0;if(w.isBuffer(a)&&w.isBuffer(b)){if(a.length!=b.length)return!1;for(var c=0;c<a.length;c++)if(a[c]!==
b[c])return!1;return!0}return w.isDate(a)&&w.isDate(b)?a.getTime()===b.getTime():w.isRegExp(a)&&w.isRegExp(b)?a.source===b.source&&a.global===b.global&&a.multiline===b.multiline&&a.lastIndex===b.lastIndex&&a.ignoreCase===b.ignoreCase:w.isObject(a)||w.isObject(b)?f(a,b):a==b}function c(a){return"[object Arguments]"==Object.prototype.toString.call(a)}function f(a,f){if(w.isNullOrUndefined(a)||w.isNullOrUndefined(f)||a.prototype!==f.prototype)return!1;if(c(a)){if(!c(f))return!1;a=e.call(a);f=e.call(f);
return b(a,f)}try{var m=D(a),d=D(f),l}catch(p){return!1}if(m.length!=d.length)return!1;m.sort();d.sort();for(l=m.length-1;0<=l;l--)if(m[l]!=d[l])return!1;for(l=m.length-1;0<=l;l--)if(d=m[l],!b(a[d],f[d]))return!1;return!0}function t(a,b){return a&&b?"[object RegExp]"==Object.prototype.toString.call(b)?b.test(a):a instanceof b||!0===b.call({},a)?!0:!1:!1}function u(a,b,c,e){var f;w.isString(c)&&(e=c,c=null);try{b()}catch(p){f=p}e=(c&&c.name?" ("+c.name+").":".")+(e?" "+e:".");a&&!f&&q(f,c,"Missing expected exception"+
e);!a&&t(f,c)&&q(f,c,"Got unwanted exception"+e);if(a&&f&&c&&!t(f,c)||!a&&f)throw f;}var w=d("util/"),e=Array.prototype.slice,n=Object.prototype.hasOwnProperty,v=k.exports=m;v.AssertionError=function(b){this.name="AssertionError";this.actual=b.actual;this.expected=b.expected;this.operator=b.operator;b.message?(this.message=b.message,this.generatedMessage=!1):(this.message=l(JSON.stringify(this.actual,a),128)+" "+this.operator+" "+l(JSON.stringify(this.expected,a),128),this.generatedMessage=!0);var c=
b.stackStartFunction||q;Error.captureStackTrace?Error.captureStackTrace(this,c):(b=Error(),b.stack&&(b=b.stack,c=b.indexOf("\n"+c.name),0<=c&&(c=b.indexOf("\n",c+1),b=b.substring(c+1)),this.stack=b))};w.inherits(v.AssertionError,Error);v.fail=q;v.ok=m;v.equal=function(a,b,c){a!=b&&q(a,b,c,"==",v.equal)};v.notEqual=function(a,b,c){a==b&&q(a,b,c,"!=",v.notEqual)};v.deepEqual=function(a,c,e){b(a,c)||q(a,c,e,"deepEqual",v.deepEqual)};v.notDeepEqual=function(a,c,e){b(a,c)&&q(a,c,e,"notDeepEqual",v.notDeepEqual)};
v.strictEqual=function(a,b,c){a!==b&&q(a,b,c,"===",v.strictEqual)};v.notStrictEqual=function(a,b,c){a===b&&q(a,b,c,"!==",v.notStrictEqual)};v["throws"]=function(a,b,c){u.apply(this,[!0].concat(e.call(arguments)))};v.doesNotThrow=function(a,b){u.apply(this,[!1].concat(e.call(arguments)))};v.ifError=function(a){if(a)throw a;};var D=Object.keys||function(a){var b=[],c;for(c in a)n.call(a,c)&&b.push(c);return b}},{"util/":50}],14:[function(d,k,g){(function(a){function l(a){a=a.charCodeAt(0);if(43===a)return 62;
if(47===a)return 63;if(48>a)return-1;if(58>a)return a-48+52;if(91>a)return a-65;if(123>a)return a-97+26}var d="undefined"!==typeof Uint8Array?Uint8Array:Array;a.toByteArray=function(a){function b(a){k[e++]=a}var c,f,t,g,k;if(0<a.length%4)throw Error("Invalid string. Length must be a multiple of 4");c=a.length;g="="===a.charAt(c-2)?2:"="===a.charAt(c-1)?1:0;k=new d(3*a.length/4-g);f=0<g?a.length-4:a.length;var e=0;for(c=0;c<f;c+=4)t=l(a.charAt(c))<<18|l(a.charAt(c+1))<<12|l(a.charAt(c+2))<<6|l(a.charAt(c+
3)),b((t&16711680)>>16),b((t&65280)>>8),b(t&255);2===g?(t=l(a.charAt(c))<<2|l(a.charAt(c+1))>>4,b(t&255)):1===g&&(t=l(a.charAt(c))<<10|l(a.charAt(c+1))<<4|l(a.charAt(c+2))>>2,b(t>>8&255),b(t&255));return k};a.fromByteArray=function(a){var b,c=a.length%3,f="",l,d;b=0;for(d=a.length-c;b<d;b+=3)l=(a[b]<<16)+(a[b+1]<<8)+a[b+2],l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(l>>18&63)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(l>>12&63)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(l>>
6&63)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(l&63),f+=l;switch(c){case 1:l=a[a.length-1];f+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(l>>2);f+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(l<<4&63);f+="==";break;case 2:l=(a[a.length-2]<<8)+a[a.length-1],f+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(l>>10),f+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(l>>
4&63),f+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(l<<2&63),f+="="}return f}})("undefined"===typeof g?this.base64js={}:g)},{}],15:[function(d,k,g){},{}],16:[function(d,k,g){function a(p,h,b){if(!(this instanceof a))return new a(p,h,b);var c=typeof p,e;if("number"===c)e=0<p?p>>>0:0;else if("string"===c){if("base64"===h)for(p=(p.trim?p.trim():p.replace(/^\s+|\s+$/g,"")).replace(C,"");0!==p.length%4;)p+="=";e=a.byteLength(p,h)}else if("object"===c&&null!==p)"Buffer"===
p.type&&x(p.data)&&(p=p.data),e=0<+p.length?Math.floor(+p.length):0;else throw new TypeError("must start with number, buffer, array or string");if(this.length>z)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+z.toString(16)+" bytes");var f;a.TYPED_ARRAY_SUPPORT?f=a._augment(new Uint8Array(e)):(f=this,f.length=e,f._isBuffer=!0);if(a.TYPED_ARRAY_SUPPORT&&"number"===typeof p.byteLength)f._set(p);else{var l=p;if(x(l)||a.isBuffer(l)||l&&"object"===typeof l&&"number"===typeof l.length)if(a.isBuffer(p))for(h=
0;h<e;h++)f[h]=p.readUInt8(h);else for(h=0;h<e;h++)f[h]=(p[h]%256+256)%256;else if("string"===c)f.write(p,0,h);else if("number"===c&&!a.TYPED_ARRAY_SUPPORT&&!b)for(h=0;h<e;h++)f[h]=0}return f}function l(a,h,b){var c="";for(b=Math.min(a.length,b);h<b;h++)c+=String.fromCharCode(a[h]);return c}function q(a,h,b){if(0!==a%1||0>a)throw new RangeError("offset is not uint");if(a+h>b)throw new RangeError("Trying to access beyond buffer length");}function m(p,h,b,c,e,f){if(!a.isBuffer(p))throw new TypeError("buffer must be a Buffer instance");
if(h>e||h<f)throw new TypeError("value is out of bounds");if(b+c>p.length)throw new TypeError("index out of range");}function b(a,h,b,c){0>h&&(h=65535+h+1);for(var e=0,f=Math.min(a.length-b,2);e<f;e++)a[b+e]=(h&255<<8*(c?e:1-e))>>>8*(c?e:1-e)}function c(a,h,b,c){0>h&&(h=4294967295+h+1);for(var e=0,f=Math.min(a.length-b,4);e<f;e++)a[b+e]=h>>>8*(c?e:3-e)&255}function f(a,h,b,c,e,f){if(h>e||h<f)throw new TypeError("value is out of bounds");if(b+c>a.length)throw new TypeError("index out of range");}function t(a,
h,b,c,e){e||f(a,h,b,4,3.4028234663852886E38,-3.4028234663852886E38);A.write(a,h,b,c,23,4);return b+4}function u(a,h,b,c,e){e||f(a,h,b,8,1.7976931348623157E308,-1.7976931348623157E308);A.write(a,h,b,c,52,8);return b+8}function w(a){for(var h=[],b=0;b<a.length;b++){var c=a.charCodeAt(b);if(127>=c)h.push(c);else{var e=b;55296<=c&&57343>=c&&b++;c=encodeURIComponent(a.slice(e,b+1)).substr(1).split("%");for(e=0;e<c.length;e++)h.push(parseInt(c[e],16))}}return h}function e(a){for(var h=[],b=0;b<a.length;b++)h.push(a.charCodeAt(b)&
255);return h}function n(a,h,b,c,e){e&&(c-=c%e);for(e=0;e<c&&!(e+b>=h.length||e>=a.length);e++)h[e+b]=a[e];return e}function v(a){try{return decodeURIComponent(a)}catch(h){return String.fromCharCode(65533)}}var D=d("base64-js"),A=d("ieee754"),x=d("is-array");g.Buffer=a;g.SlowBuffer=a;g.INSPECT_MAX_BYTES=50;a.poolSize=8192;var z=1073741823;a.TYPED_ARRAY_SUPPORT=function(){try{var a=new ArrayBuffer(0),h=new Uint8Array(a);h.foo=function(){return 42};return 42===h.foo()&&"function"===typeof h.subarray&&
0===(new Uint8Array(1)).subarray(1,1).byteLength}catch(b){return!1}}();a.isBuffer=function(a){return!(null==a||!a._isBuffer)};a.compare=function(b,h){if(!a.isBuffer(b)||!a.isBuffer(h))throw new TypeError("Arguments must be Buffers");for(var c=b.length,e=h.length,f=0,l=Math.min(c,e);f<l&&b[f]===h[f];f++);f!==l&&(c=b[f],e=h[f]);return c<e?-1:e<c?1:0};a.isEncoding=function(a){switch(String(a).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "binary":case "base64":case "raw":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return!0;
default:return!1}};a.concat=function(b,h){if(!x(b))throw new TypeError("Usage: Buffer.concat(list[, length])");if(0===b.length)return new a(0);if(1===b.length)return b[0];var c;if(void 0===h)for(c=h=0;c<b.length;c++)h+=b[c].length;var e=new a(h),f=0;for(c=0;c<b.length;c++){var l=b[c];l.copy(e,f);f+=l.length}return e};a.byteLength=function(a,h){var b;a+="";switch(h||"utf8"){case "ascii":case "binary":case "raw":b=a.length;break;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":b=2*a.length;break;
case "hex":b=a.length>>>1;break;case "utf8":case "utf-8":b=w(a).length;break;case "base64":b=D.toByteArray(a).length;break;default:b=a.length}return b};a.prototype.length=void 0;a.prototype.parent=void 0;a.prototype.toString=function(a,h,b){var c=!1;h>>>=0;b=void 0===b||Infinity===b?this.length:b>>>0;a||(a="utf8");0>h&&(h=0);b>this.length&&(b=this.length);if(b<=h)return"";for(;;)switch(a){case "hex":a=h;h=b;b=this.length;if(!a||0>a)a=0;if(!h||0>h||h>b)h=b;c="";for(b=a;b<h;b++)a=c,c=this[b],c=16>c?
"0"+c.toString(16):c.toString(16),c=a+c;return c;case "utf8":case "utf-8":c=a="";for(b=Math.min(this.length,b);h<b;h++)127>=this[h]?(a+=v(c)+String.fromCharCode(this[h]),c=""):c+="%"+this[h].toString(16);return a+v(c);case "ascii":return l(this,h,b);case "binary":return l(this,h,b);case "base64":return h=0===h&&b===this.length?D.fromByteArray(this):D.fromByteArray(this.slice(h,b)),h;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":h=this.slice(h,b);b="";for(a=0;a<h.length;a+=2)b+=String.fromCharCode(h[a]+
256*h[a+1]);return b;default:if(c)throw new TypeError("Unknown encoding: "+a);a=(a+"").toLowerCase();c=!0}};a.prototype.equals=function(b){if(!a.isBuffer(b))throw new TypeError("Argument must be a Buffer");return 0===a.compare(this,b)};a.prototype.inspect=function(){var a="",h=g.INSPECT_MAX_BYTES;0<this.length&&(a=this.toString("hex",0,h).match(/.{2}/g).join(" "),this.length>h&&(a+=" ... "));return"<Buffer "+a+">"};a.prototype.compare=function(b){if(!a.isBuffer(b))throw new TypeError("Argument must be a Buffer");
return a.compare(this,b)};a.prototype.get=function(a){console.log(".get() is deprecated. Access using array indexes instead.");return this.readUInt8(a)};a.prototype.set=function(a,b){console.log(".set() is deprecated. Access using array indexes instead.");return this.writeUInt8(a,b)};a.prototype.write=function(a,b,c,f){if(isFinite(b))isFinite(c)||(f=c,c=void 0);else{var l=f;f=b;b=c;c=l}b=+b||0;l=this.length-b;c?(c=+c,c>l&&(c=l)):c=l;f=String(f||"utf8").toLowerCase();switch(f){case "hex":b=+b||0;f=
this.length-b;c?(c=+c,c>f&&(c=f)):c=f;f=a.length;if(0!==f%2)throw Error("Invalid hex string");c>f/2&&(c=f/2);for(f=0;f<c;f++){l=parseInt(a.substr(2*f,2),16);if(isNaN(l))throw Error("Invalid hex string");this[b+f]=l}a=f;break;case "utf8":case "utf-8":a=n(w(a),this,b,c);break;case "ascii":a=n(e(a),this,b,c);break;case "binary":a=n(e(a),this,b,c);break;case "base64":a=n(D.toByteArray(a),this,b,c);break;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":for(var d,l=[],m=0;m<a.length;m++)d=a.charCodeAt(m),
f=d>>8,d%=256,l.push(d),l.push(f);a=n(l,this,b,c,2);break;default:throw new TypeError("Unknown encoding: "+f);}return a};a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};a.prototype.slice=function(b,h){var c=this.length;b=~~b;h=void 0===h?c:~~h;0>b?(b+=c,0>b&&(b=0)):b>c&&(b=c);0>h?(h+=c,0>h&&(h=0)):h>c&&(h=c);h<b&&(h=b);if(a.TYPED_ARRAY_SUPPORT)return a._augment(this.subarray(b,h));for(var c=h-b,e=new a(c,void 0,!0),f=0;f<c;f++)e[f]=this[f+b];
return e};a.prototype.readUInt8=function(a,b){b||q(a,1,this.length);return this[a]};a.prototype.readUInt16LE=function(a,b){b||q(a,2,this.length);return this[a]|this[a+1]<<8};a.prototype.readUInt16BE=function(a,b){b||q(a,2,this.length);return this[a]<<8|this[a+1]};a.prototype.readUInt32LE=function(a,b){b||q(a,4,this.length);return(this[a]|this[a+1]<<8|this[a+2]<<16)+16777216*this[a+3]};a.prototype.readUInt32BE=function(a,b){b||q(a,4,this.length);return 16777216*this[a]+(this[a+1]<<16|this[a+2]<<8|
this[a+3])};a.prototype.readInt8=function(a,b){b||q(a,1,this.length);return this[a]&128?-1*(255-this[a]+1):this[a]};a.prototype.readInt16LE=function(a,b){b||q(a,2,this.length);var c=this[a]|this[a+1]<<8;return c&32768?c|4294901760:c};a.prototype.readInt16BE=function(a,b){b||q(a,2,this.length);var c=this[a+1]|this[a]<<8;return c&32768?c|4294901760:c};a.prototype.readInt32LE=function(a,b){b||q(a,4,this.length);return this[a]|this[a+1]<<8|this[a+2]<<16|this[a+3]<<24};a.prototype.readInt32BE=function(a,
b){b||q(a,4,this.length);return this[a]<<24|this[a+1]<<16|this[a+2]<<8|this[a+3]};a.prototype.readFloatLE=function(a,b){b||q(a,4,this.length);return A.read(this,a,!0,23,4)};a.prototype.readFloatBE=function(a,b){b||q(a,4,this.length);return A.read(this,a,!1,23,4)};a.prototype.readDoubleLE=function(a,b){b||q(a,8,this.length);return A.read(this,a,!0,52,8)};a.prototype.readDoubleBE=function(a,b){b||q(a,8,this.length);return A.read(this,a,!1,52,8)};a.prototype.writeUInt8=function(b,h,c){b=+b;h>>>=0;c||
m(this,b,h,1,255,0);a.TYPED_ARRAY_SUPPORT||(b=Math.floor(b));this[h]=b;return h+1};a.prototype.writeUInt16LE=function(c,h,e){c=+c;h>>>=0;e||m(this,c,h,2,65535,0);a.TYPED_ARRAY_SUPPORT?(this[h]=c,this[h+1]=c>>>8):b(this,c,h,!0);return h+2};a.prototype.writeUInt16BE=function(c,h,e){c=+c;h>>>=0;e||m(this,c,h,2,65535,0);a.TYPED_ARRAY_SUPPORT?(this[h]=c>>>8,this[h+1]=c):b(this,c,h,!1);return h+2};a.prototype.writeUInt32LE=function(b,h,e){b=+b;h>>>=0;e||m(this,b,h,4,4294967295,0);a.TYPED_ARRAY_SUPPORT?
(this[h+3]=b>>>24,this[h+2]=b>>>16,this[h+1]=b>>>8,this[h]=b):c(this,b,h,!0);return h+4};a.prototype.writeUInt32BE=function(b,h,e){b=+b;h>>>=0;e||m(this,b,h,4,4294967295,0);a.TYPED_ARRAY_SUPPORT?(this[h]=b>>>24,this[h+1]=b>>>16,this[h+2]=b>>>8,this[h+3]=b):c(this,b,h,!1);return h+4};a.prototype.writeInt8=function(b,c,e){b=+b;c>>>=0;e||m(this,b,c,1,127,-128);a.TYPED_ARRAY_SUPPORT||(b=Math.floor(b));0>b&&(b=255+b+1);this[c]=b;return c+1};a.prototype.writeInt16LE=function(c,h,e){c=+c;h>>>=0;e||m(this,
c,h,2,32767,-32768);a.TYPED_ARRAY_SUPPORT?(this[h]=c,this[h+1]=c>>>8):b(this,c,h,!0);return h+2};a.prototype.writeInt16BE=function(c,h,e){c=+c;h>>>=0;e||m(this,c,h,2,32767,-32768);a.TYPED_ARRAY_SUPPORT?(this[h]=c>>>8,this[h+1]=c):b(this,c,h,!1);return h+2};a.prototype.writeInt32LE=function(b,h,e){b=+b;h>>>=0;e||m(this,b,h,4,2147483647,-2147483648);a.TYPED_ARRAY_SUPPORT?(this[h]=b,this[h+1]=b>>>8,this[h+2]=b>>>16,this[h+3]=b>>>24):c(this,b,h,!0);return h+4};a.prototype.writeInt32BE=function(b,h,e){b=
+b;h>>>=0;e||m(this,b,h,4,2147483647,-2147483648);0>b&&(b=4294967295+b+1);a.TYPED_ARRAY_SUPPORT?(this[h]=b>>>24,this[h+1]=b>>>16,this[h+2]=b>>>8,this[h+3]=b):c(this,b,h,!1);return h+4};a.prototype.writeFloatLE=function(a,b,c){return t(this,a,b,!0,c)};a.prototype.writeFloatBE=function(a,b,c){return t(this,a,b,!1,c)};a.prototype.writeDoubleLE=function(a,b,c){return u(this,a,b,!0,c)};a.prototype.writeDoubleBE=function(a,b,c){return u(this,a,b,!1,c)};a.prototype.copy=function(b,c,e,f){e||(e=0);f||0===
f||(f=this.length);c||(c=0);if(f!==e&&0!==b.length&&0!==this.length){if(f<e)throw new TypeError("sourceEnd < sourceStart");if(0>c||c>=b.length)throw new TypeError("targetStart out of bounds");if(0>e||e>=this.length)throw new TypeError("sourceStart out of bounds");if(0>f||f>this.length)throw new TypeError("sourceEnd out of bounds");f>this.length&&(f=this.length);b.length-c<f-e&&(f=b.length-c+e);f-=e;if(1E3>f||!a.TYPED_ARRAY_SUPPORT)for(var l=0;l<f;l++)b[l+c]=this[l+e];else b._set(this.subarray(e,e+
f),c)}};a.prototype.fill=function(a,b,c){a||(a=0);b||(b=0);c||(c=this.length);if(c<b)throw new TypeError("end < start");if(c!==b&&0!==this.length){if(0>b||b>=this.length)throw new TypeError("start out of bounds");if(0>c||c>this.length)throw new TypeError("end out of bounds");if("number"===typeof a)for(;b<c;b++)this[b]=a;else{a=w(a.toString());for(var e=a.length;b<c;b++)this[b]=a[b%e]}return this}};a.prototype.toArrayBuffer=function(){if("undefined"!==typeof Uint8Array){if(a.TYPED_ARRAY_SUPPORT)return(new a(this)).buffer;
for(var b=new Uint8Array(this.length),c=0,e=b.length;c<e;c+=1)b[c]=this[c];return b.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser");};var r=a.prototype;a._augment=function(b){b.constructor=a;b._isBuffer=!0;b._get=b.get;b._set=b.set;b.get=r.get;b.set=r.set;b.write=r.write;b.toString=r.toString;b.toLocaleString=r.toString;b.toJSON=r.toJSON;b.equals=r.equals;b.compare=r.compare;b.copy=r.copy;b.slice=r.slice;b.readUInt8=r.readUInt8;b.readUInt16LE=r.readUInt16LE;b.readUInt16BE=
r.readUInt16BE;b.readUInt32LE=r.readUInt32LE;b.readUInt32BE=r.readUInt32BE;b.readInt8=r.readInt8;b.readInt16LE=r.readInt16LE;b.readInt16BE=r.readInt16BE;b.readInt32LE=r.readInt32LE;b.readInt32BE=r.readInt32BE;b.readFloatLE=r.readFloatLE;b.readFloatBE=r.readFloatBE;b.readDoubleLE=r.readDoubleLE;b.readDoubleBE=r.readDoubleBE;b.writeUInt8=r.writeUInt8;b.writeUInt16LE=r.writeUInt16LE;b.writeUInt16BE=r.writeUInt16BE;b.writeUInt32LE=r.writeUInt32LE;b.writeUInt32BE=r.writeUInt32BE;b.writeInt8=r.writeInt8;
b.writeInt16LE=r.writeInt16LE;b.writeInt16BE=r.writeInt16BE;b.writeInt32LE=r.writeInt32LE;b.writeInt32BE=r.writeInt32BE;b.writeFloatLE=r.writeFloatLE;b.writeFloatBE=r.writeFloatBE;b.writeDoubleLE=r.writeDoubleLE;b.writeDoubleBE=r.writeDoubleBE;b.fill=r.fill;b.inspect=r.inspect;b.toArrayBuffer=r.toArrayBuffer;return b};var C=/[^+\/0-9A-z]/g},{"base64-js":14,ieee754:24,"is-array":26}],17:[function(d,k,g){function a(a,b,c){return a.replace(/\.\w+|\w+ *\(|"[^"]*"|'[^']*'|\/([^/]+)\/|[a-zA-Z_]\w*/g,function(a){return"("==
a[a.length-1]?c(a):~b.indexOf(a)?c(a):a})}function l(a){return function(b){return a+b}}var q=/\b(Array|Date|Object|Math|JSON)\b/g;k.exports=function(d,b){for(var c=d.replace(/\.\w+|\w+ *\(|"[^"]*"|'[^']*'|\/([^/]+)\//g,"").replace(q,"").match(/[a-zA-Z_]\w*/g)||[],f=[],g=0;g<c.length;g++)~f.indexOf(c[g])||f.push(c[g]);b&&"string"==typeof b&&(b=l(b));return b?a(d,f,b):f}},{}],18:[function(d,k,g){(function(a){g.isArray=function(a){return Array.isArray?Array.isArray(a):"[object Array]"===Object.prototype.toString.call(a)};
g.isBoolean=function(a){return"boolean"===typeof a};g.isNull=function(a){return null===a};g.isNullOrUndefined=function(a){return null==a};g.isNumber=function(a){return"number"===typeof a};g.isString=function(a){return"string"===typeof a};g.isSymbol=function(a){return"symbol"===typeof a};g.isUndefined=function(a){return void 0===a};g.isRegExp=function(a){return"[object RegExp]"===Object.prototype.toString.call(a)};g.isObject=function(a){return"object"===typeof a&&null!==a};g.isDate=function(a){return"[object Date]"===
Object.prototype.toString.call(a)};g.isError=function(a){return"[object Error]"===Object.prototype.toString.call(a)||a instanceof Error};g.isFunction=function(a){return"function"===typeof a};g.isPrimitive=function(a){return null===a||"boolean"===typeof a||"number"===typeof a||"string"===typeof a||"symbol"===typeof a||"undefined"===typeof a};g.isBuffer=a.isBuffer}).call(this,{isBuffer:d("../../is-buffer/index.js")})},{"../../is-buffer/index.js":27}],19:[function(d,k,g){function a(a){return!a||"object"!==
typeof a||"number"!==typeof a.length||"function"!==typeof a.copy||"function"!==typeof a.slice||0<a.length&&"number"!==typeof a[0]?!1:!0}function l(f,d,l){var g,e;if(null===f||void 0===f||null===d||void 0===d||f.prototype!==d.prototype)return!1;if(b(f)){if(!b(d))return!1;f=q.call(f);d=q.call(d);return c(f,d,l)}if(a(f)){if(!a(d)||f.length!==d.length)return!1;for(g=0;g<f.length;g++)if(f[g]!==d[g])return!1;return!0}try{var n=m(f);e=m(d)}catch(v){return!1}if(n.length!=e.length)return!1;n.sort();e.sort();
for(g=n.length-1;0<=g;g--)if(n[g]!=e[g])return!1;for(g=n.length-1;0<=g;g--)if(e=n[g],!c(f[e],d[e],l))return!1;return!0}var q=Array.prototype.slice,m=d("./lib/keys.js"),b=d("./lib/is_arguments.js"),c=k.exports=function(a,b,c){c||(c={});return a===b?!0:a instanceof Date&&b instanceof Date?a.getTime()===b.getTime():"object"!=typeof a&&"object"!=typeof b?c.strict?a===b:a==b:l(a,b,c)}},{"./lib/is_arguments.js":20,"./lib/keys.js":21}],20:[function(d,k,g){function a(a){return"[object Arguments]"==Object.prototype.toString.call(a)}
function l(a){return a&&"object"==typeof a&&"number"==typeof a.length&&Object.prototype.hasOwnProperty.call(a,"callee")&&!Object.prototype.propertyIsEnumerable.call(a,"callee")||!1}d="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();g=k.exports=d?a:l;g.supported=a;g.unsupported=l},{}],21:[function(d,k,g){function a(a){var d=[],m;for(m in a)d.push(m);return d}g=k.exports="function"===typeof Object.keys?Object.keys:a;g.shim=a},{}],22:[function(d,k,g){function a(){this._events=
this._events||{};this._maxListeners=this._maxListeners||void 0}function l(a){return"function"===typeof a}function q(a){return"object"===typeof a&&null!==a}k.exports=a;a.EventEmitter=a;a.prototype._events=void 0;a.prototype._maxListeners=void 0;a.defaultMaxListeners=10;a.prototype.setMaxListeners=function(a){if("number"!==typeof a||0>a||isNaN(a))throw TypeError("n must be a positive number");this._maxListeners=a;return this};a.prototype.emit=function(a){var b,c,f,d;this._events||(this._events={});
if("error"===a&&(!this._events.error||q(this._events.error)&&!this._events.error.length)){b=arguments[1];if(b instanceof Error)throw b;throw TypeError('Uncaught, unspecified "error" event.');}c=this._events[a];if(void 0===c)return!1;if(l(c))switch(arguments.length){case 1:c.call(this);break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:b=arguments.length;f=Array(b-1);for(d=1;d<b;d++)f[d-1]=arguments[d];c.apply(this,f)}else if(q(c)){b=arguments.length;
f=Array(b-1);for(d=1;d<b;d++)f[d-1]=arguments[d];c=c.slice();b=c.length;for(d=0;d<b;d++)c[d].apply(this,f)}return!0};a.prototype.addListener=function(d,b){var c;if(!l(b))throw TypeError("listener must be a function");this._events||(this._events={});this._events.newListener&&this.emit("newListener",d,l(b.listener)?b.listener:b);this._events[d]?q(this._events[d])?this._events[d].push(b):this._events[d]=[this._events[d],b]:this._events[d]=b;q(this._events[d])&&!this._events[d].warned&&(c=void 0!==this._maxListeners?
this._maxListeners:a.defaultMaxListeners)&&0<c&&this._events[d].length>c&&(this._events[d].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[d].length),"function"===typeof console.trace&&console.trace());return this};a.prototype.on=a.prototype.addListener;a.prototype.once=function(a,b){function c(){this.removeListener(a,c);f||(f=!0,b.apply(this,arguments))}if(!l(b))throw TypeError("listener must be a function");
var f=!1;c.listener=b;this.on(a,c);return this};a.prototype.removeListener=function(a,b){var c,f,d;if(!l(b))throw TypeError("listener must be a function");if(!this._events||!this._events[a])return this;c=this._events[a];d=c.length;f=-1;if(c===b||l(c.listener)&&c.listener===b)delete this._events[a],this._events.removeListener&&this.emit("removeListener",a,b);else if(q(c)){for(;0<d--;)if(c[d]===b||c[d].listener&&c[d].listener===b){f=d;break}if(0>f)return this;1===c.length?(c.length=0,delete this._events[a]):
c.splice(f,1);this._events.removeListener&&this.emit("removeListener",a,b)}return this};a.prototype.removeAllListeners=function(a){var b;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[a]&&delete this._events[a],this;if(0===arguments.length){for(b in this._events)"removeListener"!==b&&this.removeAllListeners(b);this.removeAllListeners("removeListener");this._events={};return this}b=this._events[a];if(l(b))this.removeListener(a,
b);else for(;b.length;)this.removeListener(a,b[b.length-1]);delete this._events[a];return this};a.prototype.listeners=function(a){return this._events&&this._events[a]?l(this._events[a])?[this._events[a]]:this._events[a].slice():[]};a.listenerCount=function(a,b){return a._events&&a._events[b]?l(a._events[b])?1:a._events[b].length:0}},{}],23:[function(d,k,g){(function(a){function l(a,c){if(!(this instanceof l))return new l(a,c);c=c||{};c.output=c.output||"arraybuffer";this.options=c;this._file=a;this.readable=
!0;this.offset=c.offset||0;this.paused=!1;this.chunkSize=this.options.chunkSize||8128;["name","size","type","lastModifiedDate"].forEach(function(c){this[c]=a[c]},this)}var g=d("inherits"),m=d("events").EventEmitter;k.exports=l;l.prototype._FileReader=function(){var b=this,c=new FileReader,f=this.options.output;c.onloadend=function(c){var d=c.target.result;d instanceof ArrayBuffer&&(d=new a(new Uint8Array(c.target.result)));b.dest.write(d);b.offset<b._file.size?(b.emit("progress",b.offset),!b.paused&&
b.readChunk(f)):b._end()};c.onerror=function(a){b.emit("error",a.target.error)};return c};l.prototype.readChunk=function(a){var c=this.offset+this.chunkSize,f=this._file.slice(this.offset,c);this.offset=c;"binary"===a?this.reader.readAsBinaryString(f):"dataurl"===a?this.reader.readAsDataURL(f):"arraybuffer"===a?this.reader.readAsArrayBuffer(f):"text"===a&&this.reader.readAsText(f)};l.prototype._end=function(){this.dest===console||this.options&&!1===this.options.end||(this.dest.end&&this.dest.end(),
this.dest.close&&this.dest.close(),this.emit("end",this._file.size))};l.prototype.pipe=function(a,c){this.reader=this._FileReader();this.readChunk(this.options.output);return this.dest=a};l.prototype.pause=function(){this.paused=!0;return this.offset};l.prototype.resume=function(){this.paused=!1;this.readChunk(this.options.output)};l.prototype.abort=function(){this.paused=!0;this.reader.abort();this._end();return this.offset};g(l,m)}).call(this,d("buffer").Buffer)},{buffer:16,events:22,inherits:25}],
24:[function(d,k,g){g.read=function(a,d,g,m,b){var c;c=8*b-m-1;var f=(1<<c)-1,k=f>>1,u=-7;b=g?b-1:0;var w=g?-1:1,e=a[d+b];b+=w;g=e&(1<<-u)-1;e>>=-u;for(u+=c;0<u;g=256*g+a[d+b],b+=w,u-=8);c=g&(1<<-u)-1;g>>=-u;for(u+=m;0<u;c=256*c+a[d+b],b+=w,u-=8);if(0===g)g=1-k;else{if(g===f)return c?NaN:Infinity*(e?-1:1);c+=Math.pow(2,m);g-=k}return(e?-1:1)*c*Math.pow(2,g-m)};g.write=function(a,d,g,m,b,c){var f,k=8*c-b-1,u=(1<<k)-1,w=u>>1,e=23===b?Math.pow(2,-24)-Math.pow(2,-77):0;c=m?0:c-1;var n=m?1:-1,v=0>d||0===
d&&0>1/d?1:0;d=Math.abs(d);isNaN(d)||Infinity===d?(d=isNaN(d)?1:0,m=u):(m=Math.floor(Math.log(d)/Math.LN2),1>d*(f=Math.pow(2,-m))&&(m--,f*=2),d=1<=m+w?d+e/f:d+e*Math.pow(2,1-w),2<=d*f&&(m++,f/=2),m+w>=u?(d=0,m=u):1<=m+w?(d=(d*f-1)*Math.pow(2,b),m+=w):(d=d*Math.pow(2,w-1)*Math.pow(2,b),m=0));for(;8<=b;a[g+c]=d&255,c+=n,d/=256,b-=8);m=m<<b|d;for(k+=b;0<k;a[g+c]=m&255,c+=n,m/=256,k-=8);a[g+c-n]|=128*v}},{}],25:[function(d,k,g){k.exports=function(a,d,g){g=g||{};var m={};[a.prototype,g].forEach(function(a){Object.getOwnPropertyNames(a).forEach(function(c){m[c]=
Object.getOwnPropertyDescriptor(a,c)})});a.prototype=Object.create(d.prototype,m);a["super"]=d}},{}],26:[function(d,k,g){var a=Object.prototype.toString;k.exports=Array.isArray||function(d){return!!d&&"[object Array]"==a.call(d)}},{}],27:[function(d,k,g){k.exports=function(a){return!(null==a||!(a._isBuffer||a.constructor&&"function"===typeof a.constructor.isBuffer&&a.constructor.isBuffer(a)))}},{}],28:[function(d,k,g){k.exports=Array.isArray||function(a){return"[object Array]"==Object.prototype.toString.call(a)}},
{}],29:[function(d,k,g){function a(){}d=k.exports={};d.nextTick=function(){var a="undefined"!==typeof window&&window.postMessage&&window.addEventListener;if("undefined"!==typeof window&&window.setImmediate)return function(a){return window.setImmediate(a)};var d=[];if("undefined"!==typeof window&&window.MutationObserver){var g=document.createElement("div");(new MutationObserver(function(){var a=d.slice();d.length=0;a.forEach(function(a){a()})})).observe(g,{attributes:!0});return function(a){d.length||
g.setAttribute("yes","no");d.push(a)}}return a?(window.addEventListener("message",function(a){var c=a.source;c!==window&&null!==c||"process-tick"!==a.data||(a.stopPropagation(),0<d.length&&d.shift()())},!0),function(a){d.push(a);window.postMessage("process-tick","*")}):function(a){setTimeout(a,0)}}();d.title="browser";d.browser=!0;d.env={};d.argv=[];d.on=a;d.addListener=a;d.once=a;d.off=a;d.removeListener=a;d.removeAllListeners=a;d.emit=a;d.binding=function(a){throw Error("process.binding is not supported");
};d.cwd=function(){return"/"};d.chdir=function(a){throw Error("process.chdir is not supported");}},{}],30:[function(d,k,g){k.exports=d("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":31}],31:[function(d,k,g){(function(a){function g(a){if(!(this instanceof g))return new g(a);c.call(this,a);f.call(this,a);a&&!1===a.readable&&(this.readable=!1);a&&!1===a.writable&&(this.writable=!1);this.allowHalfOpen=!0;a&&!1===a.allowHalfOpen&&(this.allowHalfOpen=!1);this.once("end",q)}function q(){this.allowHalfOpen||
this._writableState.ended||a.nextTick(this.end.bind(this))}k.exports=g;var m=Object.keys||function(a){var b=[],c;for(c in a)b.push(c);return b},b=d("core-util-is");b.inherits=d("inherits");var c=d("./_stream_readable"),f=d("./_stream_writable");b.inherits(g,c);(function(a,b){for(var c=0,e=a.length;c<e;c++)b(a[c],c)})(m(f.prototype),function(a){g.prototype[a]||(g.prototype[a]=f.prototype[a])})}).call(this,d("_process"))},{"./_stream_readable":33,"./_stream_writable":35,_process:29,"core-util-is":18,
inherits:36}],32:[function(d,k,g){function a(d){if(!(this instanceof a))return new a(d);l.call(this,d)}k.exports=a;var l=d("./_stream_transform");k=d("core-util-is");k.inherits=d("inherits");k.inherits(a,l);a.prototype._transform=function(a,d,b){b(null,a)}},{"./_stream_transform":34,"core-util-is":18,inherits:36}],33:[function(d,k,g){(function(a){function g(a,b){a=a||{};var c=a.highWaterMark;this.highWaterMark=c||0===c?c:16384;this.highWaterMark=~~this.highWaterMark;this.buffer=[];this.length=0;this.pipes=
null;this.pipesCount=0;this.calledRead=this.reading=this.endEmitted=this.ended=this.flowing=!1;this.sync=!0;this.readableListening=this.emittedReadable=this.needReadable=!1;this.objectMode=!!a.objectMode;this.defaultEncoding=a.defaultEncoding||"utf8";this.ranOut=!1;this.awaitDrain=0;this.readingMore=!1;this.encoding=this.decoder=null;a.encoding&&(p||(p=d("string_decoder/").StringDecoder),this.decoder=new p(a.encoding),this.encoding=a.encoding)}function q(a){if(!(this instanceof q))return new q(a);
this._readableState=new g(a,this);this.readable=!0;r.call(this)}function m(a,b,e,d,g){var n;n=e;var l=null;x.isBuffer(n)||"string"===typeof n||null===n||void 0===n||b.objectMode||(l=new TypeError("Invalid non-string/buffer chunk"));(n=l)?a.emit("error",n):null===e||void 0===e?(b.reading=!1,b.ended||(b.decoder&&!b.ended&&(e=b.decoder.end())&&e.length&&(b.buffer.push(e),b.length+=b.objectMode?1:e.length),b.ended=!0,0<b.length?c(a):v(a))):b.objectMode||e&&0<e.length?b.ended&&!g?(e=Error("stream.push() after EOF"),
a.emit("error",e)):b.endEmitted&&g?(e=Error("stream.unshift() after end event"),a.emit("error",e)):(!b.decoder||g||d||(e=b.decoder.write(e)),b.length+=b.objectMode?1:e.length,g?b.buffer.unshift(e):(b.reading=!1,b.buffer.push(e)),b.needReadable&&c(a),f(a,b)):g||(b.reading=!1);return!b.ended&&(b.needReadable||b.length<b.highWaterMark||0===b.length)}function b(a,b){if(0===b.length&&b.ended)return 0;if(b.objectMode)return 0===a?0:1;if(null===a||isNaN(a))return b.flowing&&b.buffer.length?b.buffer[0].length:
b.length;if(0>=a)return 0;if(a>b.highWaterMark){var c=a;if(8388608<=c)c=8388608;else{c--;for(var e=1;32>e;e<<=1)c|=c>>e;c++}b.highWaterMark=c}if(a>b.length){if(b.ended)return b.length;b.needReadable=!0;return 0}return a}function c(b){var c=b._readableState;c.needReadable=!1;c.emittedReadable||(c.emittedReadable=!0,c.sync?a.nextTick(function(){b.emit("readable")}):b.emit("readable"))}function f(b,c){c.readingMore||(c.readingMore=!0,a.nextTick(function(){for(var a=c.length;!c.reading&&!c.flowing&&!c.ended&&
c.length<c.highWaterMark&&(b.read(0),a!==c.length);)a=c.length;c.readingMore=!1}))}function t(a){return function(){var b=a._readableState;b.awaitDrain--;0===b.awaitDrain&&u(a)}}function u(a){function b(a,e,h){!1===a.write(f)&&c.awaitDrain++}var c=a._readableState,f;for(c.awaitDrain=0;c.pipesCount&&null!==(f=a.read());)if(1===c.pipesCount?b(c.pipes,0,null):D(c.pipes,b),a.emit("data",f),0<c.awaitDrain)return;0===c.pipesCount?(c.flowing=!1,0<z.listenerCount(a,"data")&&e(a)):c.ranOut=!0}function w(){this._readableState.ranOut&&
(this._readableState.ranOut=!1,u(this))}function e(b,c){if(b._readableState.flowing)throw Error("Cannot switch to old mode now.");var e=c||!1,f=!1;b.readable=!0;b.pipe=r.prototype.pipe;b.on=b.addListener=r.prototype.on;b.on("readable",function(){f=!0;for(var a;!e&&null!==(a=b.read());)b.emit("data",a);null===a&&(f=!1,b._readableState.needReadable=!0)});b.pause=function(){e=!0;this.emit("pause")};b.resume=function(){e=!1;f?a.nextTick(function(){b.emit("readable")}):this.read(0);this.emit("resume")};
b.emit("readable")}function n(a,b){var c=b.buffer,e=b.length,f=!!b.decoder,d=!!b.objectMode;if(0===c.length)return null;if(0===e)e=null;else if(d)e=c.shift();else if(!a||a>=e)e=f?c.join(""):x.concat(c,e),c.length=0;else if(a<c[0].length)d=c[0],e=d.slice(0,a),c[0]=d.slice(a);else if(a===c[0].length)e=c.shift();else for(var e=f?"":new x(a),g=0,n=0,l=c.length;n<l&&g<a;n++){var d=c[0],p=Math.min(a-g,d.length);f?e+=d.slice(0,p):d.copy(e,g,0,p);p<d.length?c[0]=d.slice(p):c.shift();g+=p}return e}function v(b){var c=
b._readableState;if(0<c.length)throw Error("endReadable called on non-empty stream");!c.endEmitted&&c.calledRead&&(c.ended=!0,a.nextTick(function(){c.endEmitted||0!==c.length||(c.endEmitted=!0,b.readable=!1,b.emit("end"))}))}function D(a,b){for(var c=0,e=a.length;c<e;c++)b(a[c],c)}k.exports=q;var A=d("isarray"),x=d("buffer").Buffer;q.ReadableState=g;var z=d("events").EventEmitter;z.listenerCount||(z.listenerCount=function(a,b){return a.listeners(b).length});var r=d("stream"),C=d("core-util-is");C.inherits=
d("inherits");var p;C.inherits(q,r);q.prototype.push=function(a,b){var c=this._readableState;"string"!==typeof a||c.objectMode||(b=b||c.defaultEncoding,b!==c.encoding&&(a=new x(a,b),b=""));return m(this,c,a,b,!1)};q.prototype.unshift=function(a){return m(this,this._readableState,a,"",!0)};q.prototype.setEncoding=function(a){p||(p=d("string_decoder/").StringDecoder);this._readableState.decoder=new p(a);this._readableState.encoding=a};q.prototype.read=function(a){var e=this._readableState;e.calledRead=
!0;var f=a;if("number"!==typeof a||0<a)e.emittedReadable=!1;if(0===a&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return c(this),null;a=b(a,e);if(0===a&&e.ended)return f=null,0<e.length&&e.decoder&&(f=n(a,e),e.length-=f.length),0===e.length&&v(this),f;var d=e.needReadable;e.length-a<=e.highWaterMark&&(d=!0);if(e.ended||e.reading)d=!1;d&&(e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1);d&&!e.reading&&(a=b(f,e));f=0<a?n(a,e):null;null===f&&(e.needReadable=
!0,a=0);e.length-=a;0!==e.length||e.ended||(e.needReadable=!0);e.ended&&!e.endEmitted&&0===e.length&&v(this);return f};q.prototype._read=function(a){this.emit("error",Error("not implemented"))};q.prototype.pipe=function(b,c){function e(a){a===p&&d()}function f(){b.end()}function d(){b.removeListener("close",n);b.removeListener("finish",l);b.removeListener("drain",m);b.removeListener("error",g);b.removeListener("unpipe",e);p.removeListener("end",f);p.removeListener("end",d);b._writableState&&!b._writableState.needDrain||
m()}function g(a){p.unpipe(b);b.removeListener("error",g);0===z.listenerCount(b,"error")&&b.emit("error",a)}function n(){b.removeListener("finish",l);p.unpipe(b)}function l(){b.removeListener("close",n);p.unpipe(b)}var p=this,v=this._readableState;switch(v.pipesCount){case 0:v.pipes=b;break;case 1:v.pipes=[v.pipes,b];break;default:v.pipes.push(b)}v.pipesCount+=1;var k=c&&!1===c.end||b===a.stdout||b===a.stderr?d:f;if(v.endEmitted)a.nextTick(k);else p.once("end",k);b.on("unpipe",e);var m=t(p);b.on("drain",
m);if(b._events&&b._events.error)A(b._events.error)?b._events.error.unshift(g):b._events.error=[g,b._events.error];else b.on("error",g);b.once("close",n);b.once("finish",l);b.emit("pipe",p);v.flowing||(this.on("readable",w),v.flowing=!0,a.nextTick(function(){u(p)}));return b};q.prototype.unpipe=function(a){var b=this._readableState;if(0===b.pipesCount)return this;if(1===b.pipesCount){if(a&&a!==b.pipes)return this;a||(a=b.pipes);b.pipes=null;b.pipesCount=0;this.removeListener("readable",w);b.flowing=
!1;a&&a.emit("unpipe",this);return this}if(!a){a=b.pipes;var c=b.pipesCount;b.pipes=null;b.pipesCount=0;this.removeListener("readable",w);b.flowing=!1;for(var e=0;e<c;e++)a[e].emit("unpipe",this);return this}a:{for(var e=b.pipes,c=0,f=e.length;c<f;c++)if(e[c]===a){e=c;break a}e=-1}if(-1===e)return this;b.pipes.splice(e,1);--b.pipesCount;1===b.pipesCount&&(b.pipes=b.pipes[0]);a.emit("unpipe",this);return this};q.prototype.on=function(a,b){var f=r.prototype.on.call(this,a,b);"data"!==a||this._readableState.flowing||
e(this);if("readable"===a&&this.readable){var d=this._readableState;d.readableListening||(d.readableListening=!0,d.emittedReadable=!1,d.needReadable=!0,d.reading?d.length&&c(this,d):this.read(0))}return f};q.prototype.addListener=q.prototype.on;q.prototype.resume=function(){e(this);this.read(0);this.emit("resume")};q.prototype.pause=function(){e(this,!0);this.emit("pause")};q.prototype.wrap=function(a){var b=this._readableState,c=!1,e=this;a.on("end",function(){if(b.decoder&&!b.ended){var a=b.decoder.end();
a&&a.length&&e.push(a)}e.push(null)});a.on("data",function(f){b.decoder&&(f=b.decoder.write(f));b.objectMode&&(null===f||void 0===f)||!(b.objectMode||f&&f.length)||e.push(f)||(c=!0,a.pause())});for(var f in a)"function"===typeof a[f]&&"undefined"===typeof this[f]&&(this[f]=function(b){return function(){return a[b].apply(a,arguments)}}(f));D(["error","close","destroy","pause","resume"],function(b){a.on(b,e.emit.bind(e,b))});e._read=function(b){c&&(c=!1,a.resume())};return e};q._fromList=n}).call(this,
d("_process"))},{_process:29,buffer:16,"core-util-is":18,events:22,inherits:36,isarray:28,stream:41,"string_decoder/":43}],34:[function(d,k,g){function a(a,c){this.afterTransform=function(a,b){var d;d=c._transformState;d.transforming=!1;var g=d.writecb;g?(d.writechunk=null,d.writecb=null,null!==b&&void 0!==b&&c.push(b),g&&g(a),d=c._readableState,d.reading=!1,(d.needReadable||d.length<d.highWaterMark)&&c._read(d.highWaterMark),d=void 0):d=c.emit("error",Error("no writecb in Transform class"));return d};
this.transforming=this.needTransform=!1;this.writechunk=this.writecb=null}function l(b){if(!(this instanceof l))return new l(b);m.call(this,b);this._transformState=new a(b,this);var c=this;this._readableState.needReadable=!0;this._readableState.sync=!1;this.once("finish",function(){"function"===typeof this._flush?this._flush(function(a){q(c,a)}):q(c)})}function q(a,c){if(c)return a.emit("error",c);var d=a._transformState;if(a._writableState.length)throw Error("calling transform done when ws.length != 0");
if(d.transforming)throw Error("calling transform done when still transforming");return a.push(null)}k.exports=l;var m=d("./_stream_duplex");k=d("core-util-is");k.inherits=d("inherits");k.inherits(l,m);l.prototype.push=function(a,c){this._transformState.needTransform=!1;return m.prototype.push.call(this,a,c)};l.prototype._transform=function(a,c,d){throw Error("not implemented");};l.prototype._write=function(a,c,d){var g=this._transformState;g.writecb=d;g.writechunk=a;g.writeencoding=c;g.transforming||
(a=this._readableState,(g.needTransform||a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark))};l.prototype._read=function(a){a=this._transformState;null!==a.writechunk&&a.writecb&&!a.transforming?(a.transforming=!0,this._transform(a.writechunk,a.writeencoding,a.afterTransform)):a.needTransform=!0}},{"./_stream_duplex":31,"core-util-is":18,inherits:36}],35:[function(d,k,g){(function(a){function g(a,b,c){this.chunk=a;this.encoding=b;this.callback=c}function q(a,b){a=a||{};var c=a.highWaterMark;
this.highWaterMark=c||0===c?c:16384;this.objectMode=!!a.objectMode;this.highWaterMark=~~this.highWaterMark;this.finished=this.ended=this.ending=this.needDrain=!1;this.decodeStrings=!1!==a.decodeStrings;this.defaultEncoding=a.defaultEncoding||"utf8";this.length=0;this.writing=!1;this.sync=!0;this.bufferProcessing=!1;this.onwrite=function(a){w(b,a)};this.writecb=null;this.writelen=0;this.buffer=[];this.errorEmitted=!1}function m(a){var b=d("./_stream_duplex");if(!(this instanceof m||this instanceof
b))return new m(a);this._writableState=new q(a,this);this.writable=!0;x.call(this)}function b(b,c,e){var d=Error("write after end");b.emit("error",d);a.nextTick(function(){e(d)})}function c(b,c,e,d){var f=!0;if(!D.isBuffer(e)&&"string"!==typeof e&&null!==e&&void 0!==e&&!c.objectMode){var g=new TypeError("Invalid non-string/buffer chunk");b.emit("error",g);a.nextTick(function(){d(g)});f=!1}return f}function f(a,b,c,e,d){b.objectMode||!1===b.decodeStrings||"string"!==typeof c||(c=new D(c,e));D.isBuffer(c)&&
(e="buffer");var f=b.objectMode?1:c.length;b.length+=f;var n=b.length<b.highWaterMark;n||(b.needDrain=!0);b.writing?b.buffer.push(new g(c,e,d)):(b.writelen=f,b.writecb=d,b.writing=!0,b.sync=!0,a._write(c,e,b.onwrite),b.sync=!1);return n}function t(b,c,e,d,f){e?a.nextTick(function(){f(d)}):f(d);b._writableState.errorEmitted=!0;b.emit("error",d)}function u(a){a.writing=!1;a.writecb=null;a.length-=a.writelen;a.writelen=0}function w(b,c){var d=b._writableState,f=d.sync,h=d.writecb;u(d);if(c)t(b,d,f,c,
h);else{var g=d.ending&&0===d.length&&!d.finished&&!d.writing;g||d.bufferProcessing||!d.buffer.length||n(b,d);f?a.nextTick(function(){e(b,d,g,h)}):e(b,d,g,h)}}function e(a,b,c,e){!c&&0===b.length&&b.needDrain&&(b.needDrain=!1,a.emit("drain"));e();c&&v(a,b)}function n(a,b){b.bufferProcessing=!0;for(var c=0;c<b.buffer.length;c++){var e=b.buffer[c],d=e.chunk,f=a,g=b,n=d,l=e.encoding,e=e.callback;g.writelen=b.objectMode?1:d.length;g.writecb=e;g.writing=!0;g.sync=!0;f._write(n,l,g.onwrite);g.sync=!1;if(b.writing){c++;
break}}b.bufferProcessing=!1;c<b.buffer.length?b.buffer=b.buffer.slice(c):b.buffer.length=0}function v(a,b){var c=b.ending&&0===b.length&&!b.finished&&!b.writing;c&&(b.finished=!0,a.emit("finish"));return c}k.exports=m;var D=d("buffer").Buffer;m.WritableState=q;var A=d("core-util-is");A.inherits=d("inherits");var x=d("stream");A.inherits(m,x);m.prototype.pipe=function(){this.emit("error",Error("Cannot pipe. Not readable."))};m.prototype.write=function(a,e,d){var g=this._writableState,h=!1;"function"===
typeof e&&(d=e,e=null);D.isBuffer(a)?e="buffer":e||(e=g.defaultEncoding);"function"!==typeof d&&(d=function(){});g.ended?b(this,g,d):c(this,g,a,d)&&(h=f(this,g,a,e,d));return h};m.prototype._write=function(a,b,c){c(Error("not implemented"))};m.prototype.end=function(b,c,e){var d=this._writableState;"function"===typeof b?(e=b,c=b=null):"function"===typeof c&&(e=c,c=null);"undefined"!==typeof b&&null!==b&&this.write(b,c);if(!d.ending&&!d.finished){b=e;d.ending=!0;v(this,d);if(b)if(d.finished)a.nextTick(b);
else this.once("finish",b);d.ended=!0}}}).call(this,d("_process"))},{"./_stream_duplex":31,_process:29,buffer:16,"core-util-is":18,inherits:36,stream:41}],36:[function(d,k,g){k.exports="function"===typeof Object.create?function(a,d){a.super_=d;a.prototype=Object.create(d.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:function(a,d){a.super_=d;var g=function(){};g.prototype=d.prototype;a.prototype=new g;a.prototype.constructor=a}},{}],37:[function(d,k,g){k.exports=d("./lib/_stream_passthrough.js")},
{"./lib/_stream_passthrough.js":32}],38:[function(d,k,g){var a=d("stream");g=k.exports=d("./lib/_stream_readable.js");g.Stream=a;g.Readable=g;g.Writable=d("./lib/_stream_writable.js");g.Duplex=d("./lib/_stream_duplex.js");g.Transform=d("./lib/_stream_transform.js");g.PassThrough=d("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":31,"./lib/_stream_passthrough.js":32,"./lib/_stream_readable.js":33,"./lib/_stream_transform.js":34,"./lib/_stream_writable.js":35,stream:41}],39:[function(d,k,
g){k.exports=d("./lib/_stream_transform.js")},{"./lib/_stream_transform.js":34}],40:[function(d,k,g){k.exports=d("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":35}],41:[function(d,k,g){function a(){l.call(this)}k.exports=a;var l=d("events").EventEmitter;d("inherits")(a,l);a.Readable=d("readable-stream/readable.js");a.Writable=d("readable-stream/writable.js");a.Duplex=d("readable-stream/duplex.js");a.Transform=d("readable-stream/transform.js");a.PassThrough=d("readable-stream/passthrough.js");
a.Stream=a;a.prototype.pipe=function(a,d){function b(b){a.writable&&!1===a.write(b)&&e.pause&&e.pause()}function c(){e.readable&&e.resume&&e.resume()}function f(){n||(n=!0,a.end())}function g(){n||(n=!0,"function"===typeof a.destroy&&a.destroy())}function k(a){w();if(0===l.listenerCount(this,"error"))throw a;}function w(){e.removeListener("data",b);a.removeListener("drain",c);e.removeListener("end",f);e.removeListener("close",g);e.removeListener("error",k);a.removeListener("error",k);e.removeListener("end",
w);e.removeListener("close",w);a.removeListener("close",w)}var e=this;e.on("data",b);a.on("drain",c);a._isStdio||d&&!1===d.end||(e.on("end",f),e.on("close",g));var n=!1;e.on("error",k);a.on("error",k);e.on("end",w);e.on("close",w);a.on("close",w);a.emit("pipe",e);return a}},{events:22,inherits:42,"readable-stream/duplex.js":30,"readable-stream/passthrough.js":37,"readable-stream/readable.js":38,"readable-stream/transform.js":39,"readable-stream/writable.js":40}],42:[function(d,k,g){k.exports=d(36)},
{"/home/ondras/git/musicmetadata/node_modules/readable-stream/node_modules/inherits/inherits_browser.js":36}],43:[function(d,k,g){function a(a){return a.toString(this.encoding)}function l(a){this.charLength=(this.charReceived=a.length%2)?2:0}function q(a){this.charLength=(this.charReceived=a.length%3)?3:0}var m=d("buffer").Buffer,b=m.isEncoding||function(a){switch(a&&a.toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":case "raw":return!0;
default:return!1}};d=g.StringDecoder=function(c){this.encoding=(c||"utf8").toLowerCase().replace(/[-_]/,"");if(c&&!b(c))throw Error("Unknown encoding: "+c);switch(this.encoding){case "utf8":this.surrogateSize=3;break;case "ucs2":case "utf16le":this.surrogateSize=2;this.detectIncompleteChar=l;break;case "base64":this.surrogateSize=3;this.detectIncompleteChar=q;break;default:this.write=a;return}this.charBuffer=new m(6);this.charLength=this.charReceived=0};d.prototype.write=function(a){for(var b="";this.charLength;){b=
a.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:a.length;a.copy(this.charBuffer,this.charReceived,0,b);this.charReceived+=b;if(this.charReceived<this.charLength)return"";a=a.slice(b,a.length);var b=this.charBuffer.slice(0,this.charLength).toString(this.encoding),d=b.charCodeAt(b.length-1);if(55296<=d&&56319>=d)this.charLength+=this.surrogateSize,b="";else{this.charReceived=this.charLength=0;if(0===a.length)return b;break}}this.detectIncompleteChar(a);var g=a.length;this.charLength&&
(a.copy(this.charBuffer,0,a.length-this.charReceived,g),g-=this.charReceived);b+=a.toString(this.encoding,0,g);g=b.length-1;d=b.charCodeAt(g);return 55296<=d&&56319>=d?(d=this.surrogateSize,this.charLength+=d,this.charReceived+=d,this.charBuffer.copy(this.charBuffer,d,0,d),a.copy(this.charBuffer,0,0,d),b.substring(0,g)):b};d.prototype.detectIncompleteChar=function(a){for(var b=3<=a.length?3:a.length;0<b;b--){var d=a[a.length-b];if(1==b&&6==d>>5){this.charLength=2;break}if(2>=b&&14==d>>4){this.charLength=
3;break}if(3>=b&&30==d>>3){this.charLength=4;break}}this.charReceived=b};d.prototype.end=function(a){var b="";a&&a.length&&(b=this.write(a));this.charReceived&&(a=this.encoding,b+=this.charBuffer.slice(0,this.charReceived).toString(a));return b}},{buffer:16}],44:[function(d,k,g){var a=d("assert"),l=d("buffer").Buffer,q=new l(1024),m=function(a,b,c,d){if(b+c>a.length){if("function"!==typeof d)throw Error("Buffer out of space and no valid flush() function found");d(a,b);return 0}return b},b={};g.DEFER=
b;var c={};g.DONE=c;var f={len:1,get:function(a,b){return a[b]},put:function(b,c,d,f){a.equal(typeof c,"number");a.equal(typeof d,"number");a.ok(0<=d&&255>=d);a.ok(0<=c);a.ok(this.len<=b.length);f=m(b,c,this.len,f);b[f]=d&255;return f-c+this.len}};g.UINT8=f;g.UINT16_LE={len:2,get:function(a,b){return a[b]|a[b+1]<<8},put:function(b,c,d,f){a.equal(typeof c,"number");a.equal(typeof d,"number");a.ok(0<=d&&65535>=d);a.ok(0<=c);a.ok(this.len<=b.length);f=m(b,c,this.len,f);b[f]=d&255;b[f+1]=d>>>8&255;return f-
c+this.len}};var t={len:2,get:function(a,b){return a[b]<<8|a[b+1]},put:function(b,c,d,f){a.equal(typeof c,"number");a.equal(typeof d,"number");a.ok(0<=d&&65535>=d);a.ok(0<=c);a.ok(this.len<=b.length);f=m(b,c,this.len,f);b[f]=d>>>8&255;b[f+1]=d&255;return f-c+this.len}};g.UINT16_BE=t;g.UINT32_LE={len:4,get:function(a,b){return(a[b]|a[b+1]<<8|a[b+2]<<16)+2*(a[b+3]<<23)},put:function(b,c,d,f){a.equal(typeof c,"number");a.equal(typeof d,"number");a.ok(0<=d&&4294967295>=d);a.ok(0<=c);a.ok(this.len<=b.length);
f=m(b,c,this.len,f);b[f]=d&255;b[f+1]=d>>>8&255;b[f+2]=d>>>16&255;b[f+3]=d>>>24&255;return f-c+this.len}};var u={len:4,get:function(a,b){return 2*(a[b]<<23)+(a[b+1]<<16|a[b+2]<<8|a[b+3])},put:function(b,c,d,f){a.equal(typeof c,"number");a.equal(typeof d,"number");a.ok(0<=d&&4294967295>=d);a.ok(0<=c);a.ok(this.len<=b.length);f=m(b,c,this.len,f);b[f]=d>>>24&255;b[f+1]=d>>>16&255;b[f+2]=d>>>8&255;b[f+3]=d&255;return f-c+this.len}};g.UINT32_BE=u;g.INT8={len:1,get:function(a,b){var c=f.get(a,b);return 128===
(c&128)?-128+(c&127):c},put:function(b,c,d,f){a.equal(typeof c,"number");a.equal(typeof d,"number");a.ok(-128<=d&&127>=d);a.ok(0<=c);a.ok(this.len<=b.length);f=m(b,c,this.len,f);b[f]=d&255;return f-c+this.len}};g.INT16_BE={len:2,get:function(a,b){var c=t.get(a,b);return 32768===(c&32768)?-32768+(c&32767):c},put:function(b,c,d,f){a.equal(typeof c,"number");a.equal(typeof d,"number");a.ok(-32768<=d&&32767>=d);a.ok(0<=c);a.ok(this.len<=b.length);f=m(b,c,this.len,f);b[f]=(d&65535)>>>8&255;b[f+1]=d&255;
return f-c+this.len}};g.INT32_BE={len:4,get:function(a,b){var c=u.get(a,b);return-2147483648===(c&2147483648)?(c&2147483647)-1073741824-1073741824:c},put:function(b,c,d,f){a.equal(typeof c,"number");a.equal(typeof d,"number");a.ok(-2147483648<=d&&2147483647>=d);a.ok(0<=c);a.ok(this.len<=b.length);f=m(b,c,this.len,f);b[f]=d>>>24&255;b[f+1]=d>>>16&255;b[f+2]=d>>>8&255;b[f+3]=d&255;return f-c+this.len}};var w=function(a){this.len=a;this.get=function(){return null}};g.IgnoreType=w;g.BufferType=function(a){this.len=
a;this.get=function(a,b){return a.slice(b,b+this.len)}};g.StringType=function(a,b){this.len=a;this.encoding=b;this.get=function(a,c){return a.toString(b,c,c+this.len)}};g.parse=function(d,f){var g=b,k=[],m=0,t=0,u=0,r=function(a){if(g!==b)throw Error("refusing to overwrite non-DEFER type");g=a;C()},C=function(){for(var h;g!==c&&g!==b&&m>=g.len;){h=k[0];var y=t;a.ok(0<=t&&t<h.length);if(h.length-t<g.len){q.length<g.len&&(q=new l(Math.pow(2,Math.ceil(Math.log(g.len)/Math.log(2)))));h=q;for(var C=y=
0;C<g.len&&0<k.length;){var G=k[0],E=Math.min(g.len-C,G.length-t);G.copy(h,C,t,t+E);C+=E;E<G.length-t?(a.equal(C,g.len),t+=E):(a.equal(t+E,G.length),k.shift(),t=0)}a.equal(C,g.len)}else h.length-t===g.len?(k.shift(),t=0):t+=g.len;m-=g.len;g=f(g.get(h,y),r);if(g instanceof w){u+=g.len;if(u>=m)u-=m,m=0,k=[],t=0;else if(u<k[0].length-t)m-=u,t+=u,u=0;else if(0<m){m-=u;for(u+=t;u>=k[0].length;)u-=k.shift().length;t=u;u=0}g=f(g.get(),r)}}if(g===c)for(d.removeListener("data",p);0<k.length;)h=k.shift(),0<
t&&(h=h.slice(t,h.length),t=0),d.emit("data",h)},p=function(b){b.length<=u?(a.strictEqual(m,0),a.strictEqual(k.length,0),u-=b.length):(0<u?(a.strictEqual(m,0),m=b.length-u,k.push(b.slice(u)),u=0):(k.push(b),m+=b.length),C())},g=f(void 0,r);if(g!==c)d.on("data",p)}},{assert:13,buffer:16}],45:[function(d,k,g){var a=d("to-function");k.exports=function(d,g){var k=0;if(g)if(g=a(g),Array.isArray(d))for(var b=0;b<d.length;++b)k+=g(d[b],b);else for(b in d)k+=g(d[b],b);else for(b=0;b<d.length;++b)k+=d[b];
return k}},{"to-function":47}],46:[function(d,k,g){(function(a){function g(d,b,c){function f(){for(;w.length&&!n.paused;){var a=w.shift();if(null===a)return n.emit("end");n.emit("data",a)}}d=d||function(a){this.queue(a)};b=b||function(){this.queue(null)};var l=!1,k=!1,w=[],e=!1,n=new q;n.readable=n.writable=!0;n.paused=!1;n.autoDestroy=!(c&&!1===c.autoDestroy);n.write=function(a){d.call(this,a);return!n.paused};n.queue=n.push=function(a){if(e)return n;null===a&&(e=!0);w.push(a);f();return n};n.on("end",
function(){n.readable=!1;!n.writable&&n.autoDestroy&&a.nextTick(function(){n.destroy()})});n.end=function(a){if(!l)return l=!0,arguments.length&&n.write(a),n.writable=!1,b.call(n),!n.readable&&n.autoDestroy&&n.destroy(),n};n.destroy=function(){if(!k)return l=k=!0,w.length=0,n.writable=n.readable=!1,n.emit("close"),n};n.pause=function(){if(!n.paused)return n.paused=!0,n};n.resume=function(){n.paused&&(n.paused=!1,n.emit("resume"));f();n.paused||n.emit("drain");return n};return n}var q=d("stream");
k.exports=g;g.through=g}).call(this,d("_process"))},{_process:29,stream:41}],47:[function(d,k,g){function a(a){switch({}.toString.call(a)){case "[object Object]":return m(a);case "[object Function]":return a;case "[object String]":var d;if(/^ *\W+/.test(a))d=new Function("_","return _ "+a);else{d=Function;var g=c(a);if(g.length){var k,e,n;for(e=0;e<g.length;e++)n=g[e],k="_."+n,k="('function' == typeof "+k+" ? "+k+"() : "+k+")",a=b(n,a,k)}else a="_."+a;d=new d("_","return "+a)}return d;case "[object RegExp]":return q(a);
default:return l(a)}}function l(a){return function(b){return a===b}}function q(a){return function(b){return a.test(b)}}function m(b){var c={},d;for(d in b)c[d]="string"===typeof b[d]?l(b[d]):a(b[d]);return function(a){if("object"!==typeof a)return!1;for(var b in c)if(!(b in a&&c[b](a[b])))return!1;return!0}}function b(a,b,c){return b.replace(new RegExp("(\\.)?"+a,"g"),function(a,b){return b?a:c})}var c;try{c=d("props")}catch(f){c=d("component-props")}k.exports=a},{"component-props":17,props:17}],
48:[function(d,k,g){k.exports=d(36)},{"/home/ondras/git/musicmetadata/node_modules/readable-stream/node_modules/inherits/inherits_browser.js":36}],49:[function(d,k,g){k.exports=function(a){return a&&"object"===typeof a&&"function"===typeof a.copy&&"function"===typeof a.fill&&"function"===typeof a.readUInt8}},{}],50:[function(d,k,g){(function(a,l){function k(a,c){var d={seen:[],stylize:b};3<=arguments.length&&(d.depth=arguments[2]);4<=arguments.length&&(d.colors=arguments[3]);D(c)?d.showHidden=c:c&&
g._extend(d,c);z(d.showHidden)&&(d.showHidden=!1);z(d.depth)&&(d.depth=2);z(d.colors)&&(d.colors=!1);z(d.customInspect)&&(d.customInspect=!0);d.colors&&(d.stylize=m);return f(d,a,d.depth)}function m(a,b){var c=k.styles[b];return c?"\u001b["+k.colors[c][0]+"m"+a+"\u001b["+k.colors[c][1]+"m":a}function b(a,b){return a}function c(a){var b={};a.forEach(function(a,c){b[a]=!0});return b}function f(a,b,d){if(a.customInspect&&b&&y(b.inspect)&&b.inspect!==g.inspect&&(!b.constructor||b.constructor.prototype!==
b)){var k=b.inspect(d,a);x(k)||(k=f(a,k,d));return k}if(k=t(a,b))return k;var l=Object.keys(b),m=c(l);a.showHidden&&(l=Object.getOwnPropertyNames(b));if(h(b)&&(0<=l.indexOf("message")||0<=l.indexOf("description")))return u(b);if(0===l.length){if(y(b))return a.stylize("[Function"+(b.name?": "+b.name:"")+"]","special");if(r(b))return a.stylize(RegExp.prototype.toString.call(b),"regexp");if(p(b))return a.stylize(Date.prototype.toString.call(b),"date");if(h(b))return u(b)}var k="",q=!1,z=["{","}"];v(b)&&
(q=!0,z=["[","]"]);y(b)&&(k=" [Function"+(b.name?": "+b.name:"")+"]");r(b)&&(k=" "+RegExp.prototype.toString.call(b));p(b)&&(k=" "+Date.prototype.toUTCString.call(b));h(b)&&(k=" "+u(b));if(0===l.length&&(!q||0==b.length))return z[0]+k+z[1];if(0>d)return r(b)?a.stylize(RegExp.prototype.toString.call(b),"regexp"):a.stylize("[Object]","special");a.seen.push(b);l=q?w(a,b,d,m,l):l.map(function(c){return e(a,b,d,m,c,q)});a.seen.pop();return n(l,k,z)}function t(a,b){if(z(b))return a.stylize("undefined",
"undefined");if(x(b)){var c="'"+JSON.stringify(b).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return a.stylize(c,"string")}if(A(b))return a.stylize(""+b,"number");if(D(b))return a.stylize(""+b,"boolean");if(null===b)return a.stylize("null","null")}function u(a){return"["+Error.prototype.toString.call(a)+"]"}function w(a,b,c,d,f){for(var g=[],h=0,k=b.length;h<k;++h)Object.prototype.hasOwnProperty.call(b,String(h))?g.push(e(a,b,c,d,String(h),!0)):g.push("");f.forEach(function(f){f.match(/^\d+$/)||
g.push(e(a,b,c,d,f,!0))});return g}function e(a,b,c,d,e,g){var h,k;b=Object.getOwnPropertyDescriptor(b,e)||{value:b[e]};b.get?k=b.set?a.stylize("[Getter/Setter]","special"):a.stylize("[Getter]","special"):b.set&&(k=a.stylize("[Setter]","special"));Object.prototype.hasOwnProperty.call(d,e)||(h="["+e+"]");k||(0>a.seen.indexOf(b.value)?(k=null===c?f(a,b.value,null):f(a,b.value,c-1),-1<k.indexOf("\n")&&(k=g?k.split("\n").map(function(a){return"  "+a}).join("\n").substr(2):"\n"+k.split("\n").map(function(a){return"   "+
a}).join("\n"))):k=a.stylize("[Circular]","special"));if(z(h)){if(g&&e.match(/^\d+$/))return k;h=JSON.stringify(""+e);h.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(h=h.substr(1,h.length-2),h=a.stylize(h,"name")):(h=h.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),h=a.stylize(h,"string"))}return h+": "+k}function n(a,b,c){var d=0;return 60<a.reduce(function(a,b){d++;0<=b.indexOf("\n")&&d++;return a+b.replace(/\u001b\[\d\d?m/g,"").length+1},0)?c[0]+(""===b?"":b+"\n ")+" "+a.join(",\n  ")+
" "+c[1]:c[0]+b+" "+a.join(", ")+" "+c[1]}function v(a){return Array.isArray(a)}function D(a){return"boolean"===typeof a}function A(a){return"number"===typeof a}function x(a){return"string"===typeof a}function z(a){return void 0===a}function r(a){return C(a)&&"[object RegExp]"===Object.prototype.toString.call(a)}function C(a){return"object"===typeof a&&null!==a}function p(a){return C(a)&&"[object Date]"===Object.prototype.toString.call(a)}function h(a){return C(a)&&("[object Error]"===Object.prototype.toString.call(a)||
a instanceof Error)}function y(a){return"function"===typeof a}function L(a){return 10>a?"0"+a.toString(10):a.toString(10)}function G(){var a=new Date,b=[L(a.getHours()),L(a.getMinutes()),L(a.getSeconds())].join(":");return[a.getDate(),N[a.getMonth()],b].join(" ")}var E=/%[sdj%]/g;g.format=function(a){if(!x(a)){for(var b=[],c=0;c<arguments.length;c++)b.push(k(arguments[c]));return b.join(" ")}for(var c=1,d=arguments,e=d.length,b=String(a).replace(E,function(a){if("%%"===a)return"%";if(c>=e)return a;
switch(a){case "%s":return String(d[c++]);case "%d":return+d[c++];case "%j":try{return JSON.stringify(d[c++])}catch(b){return"[Circular]"}default:return a}}),f=d[c];c<e;f=d[++c])b=null!==f&&C(f)?b+(" "+k(f)):b+(" "+f);return b};g.deprecate=function(b,c){if(z(l.process))return function(){return g.deprecate(b,c).apply(this,arguments)};if(!0===a.noDeprecation)return b;var d=!1;return function(){if(!d){if(a.throwDeprecation)throw Error(c);a.traceDeprecation?console.trace(c):console.error(c);d=!0}return b.apply(this,
arguments)}};var I={},M;g.debuglog=function(b){z(M)&&(M=a.env.NODE_DEBUG||"");b=b.toUpperCase();if(!I[b])if((new RegExp("\\b"+b+"\\b","i")).test(M)){var c=a.pid;I[b]=function(){var a=g.format.apply(g,arguments);console.error("%s %d: %s",b,c,a)}}else I[b]=function(){};return I[b]};g.inspect=k;k.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};k.styles={special:"cyan",
number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"};g.isArray=v;g.isBoolean=D;g.isNull=function(a){return null===a};g.isNullOrUndefined=function(a){return null==a};g.isNumber=A;g.isString=x;g.isSymbol=function(a){return"symbol"===typeof a};g.isUndefined=z;g.isRegExp=r;g.isObject=C;g.isDate=p;g.isError=h;g.isFunction=y;g.isPrimitive=function(a){return null===a||"boolean"===typeof a||"number"===typeof a||"string"===typeof a||"symbol"===typeof a||
"undefined"===typeof a};g.isBuffer=d("./support/isBuffer");var N="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");g.log=function(){console.log("%s - %s",G(),g.format.apply(g,arguments))};g.inherits=d("inherits");g._extend=function(a,b){if(!b||!C(b))return a;for(var c=Object.keys(b),d=c.length;d--;)a[c[d]]=b[c[d]];return a}}).call(this,d("_process"),"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./support/isBuffer":49,_process:29,
inherits:48}]},{},[2])(2)});